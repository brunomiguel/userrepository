"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = upgradeForgeConfig;
exports.updateUpgradedForgeDevDeps = updateUpgradedForgeDevDeps;
var _path = _interopRequireDefault(require("path"));
var _initNpm = require("../api/init-scripts/init-npm");
function upgradeForgeConfig(forge5Config) {
    const forgeConfig = {};
    if (forge5Config.electronPackagerConfig) {
        delete forge5Config.electronPackagerConfig.packageManager;
        forgeConfig.packagerConfig = forge5Config.electronPackagerConfig;
    }
    if (forge5Config.electronRebuildConfig) {
        forgeConfig.electronRebuildConfig = forge5Config.electronRebuildConfig;
    }
    forgeConfig.makers = generateForgeMakerConfig(forge5Config);
    forgeConfig.publishers = generateForgePublisherConfig(forge5Config);
    return forgeConfig;
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function mapMakeTargets(forge5Config) {
    const makeTargets = new Map();
    if (forge5Config.make_targets) {
        for (const [platform, targets] of Object.entries(forge5Config.make_targets)){
            for (const target of targets){
                let platforms = makeTargets.get(target);
                if (platforms === undefined) {
                    platforms = [];
                    makeTargets.set(target, platforms);
                }
                platforms.push(platform);
            }
        }
    }
    return makeTargets;
}
const forge5MakerMappings = new Map([
    [
        'electronInstallerDebian',
        'deb'
    ],
    [
        'electronInstallerDMG',
        'dmg'
    ],
    [
        'electronInstallerFlatpak',
        'flatpak'
    ],
    [
        'electronInstallerRedhat',
        'rpm'
    ],
    [
        'electronInstallerSnap',
        'snap'
    ],
    [
        'electronWinstallerConfig',
        'squirrel'
    ],
    [
        'electronWixMSIConfig',
        'wix'
    ],
    [
        'windowsStoreConfig',
        'appx'
    ], 
]);
/**
 * Converts Forge v5 maker config to v6.
 */ function generateForgeMakerConfig(forge5Config) {
    const makeTargets = mapMakeTargets(forge5Config);
    const makers = [];
    for (const [forge5Key, makerType] of forge5MakerMappings){
        const config = forge5Config[forge5Key];
        if (config) {
            makers.push({
                name: `@electron-forge/maker-${makerType}`,
                config: forge5Config[forge5Key],
                platforms: makeTargets.get(makerType) || []
            });
        }
    }
    const zipPlatforms = makeTargets.get('zip');
    if (zipPlatforms) {
        makers.push({
            name: '@electron-forge/maker-zip',
            platforms: zipPlatforms
        });
    }
    return makers;
}
const forge5PublisherMappings = new Map([
    [
        'github_repository',
        'github'
    ],
    [
        's3',
        's3'
    ],
    [
        'electron-release-server',
        'electron-release-server'
    ],
    [
        'snapStore',
        'snapcraft'
    ], 
]);
/**
 * Transforms v5 GitHub publisher config to v6 syntax.
 */ function transformGitHubPublisherConfig(config) {
    const { name , owner , options , ...gitHubConfig } = config;
    gitHubConfig.repository = {
        name,
        owner
    };
    if (options) {
        gitHubConfig.octokitOptions = options;
    }
    return gitHubConfig;
}
/**
 * Converts Forge v5 publisher config to v6.
 */ function generateForgePublisherConfig(forge5Config) {
    const publishers = [];
    for (const [forge5Key, publisherType] of forge5PublisherMappings){
        let config = forge5Config[forge5Key];
        if (config) {
            if (publisherType === 'github') {
                config = transformGitHubPublisherConfig(config);
            }
            publishers.push({
                config,
                name: `@electron-forge/publisher-${publisherType}`,
                platforms: null
            });
        }
    }
    return publishers;
}
function updateUpgradedForgeDevDeps(packageJSON, devDeps) {
    const forgeConfig = packageJSON.config.forge;
    devDeps = devDeps.filter((dep)=>!dep.startsWith('@electron-forge/maker-')
    );
    // eslint-disable-next-line max-len
    devDeps = devDeps.concat(forgeConfig.makers.map((maker)=>(0, _initNpm).siblingDep(_path.default.basename(maker.name))
    ));
    // eslint-disable-next-line max-len
    devDeps = devDeps.concat(forgeConfig.publishers.map((publisher)=>(0, _initNpm).siblingDep(_path.default.basename(publisher.name))
    ));
    if (Object.keys(packageJSON.devDependencies).find((dep)=>dep === 'electron-prebuilt-compile'
    )) {
        devDeps = devDeps.concat((0, _initNpm).siblingDep('plugin-compile'));
    }
    return devDeps;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL3VwZ3JhZGUtZm9yZ2UtY29uZmlnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZvcmdlQ29uZmlnLCBGb3JnZVBsYXRmb3JtLCBJRm9yZ2VSZXNvbHZhYmxlTWFrZXIsIElGb3JnZVJlc29sdmFibGVQdWJsaXNoZXIgfSBmcm9tICdAZWxlY3Ryb24tZm9yZ2Uvc2hhcmVkLXR5cGVzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgc2libGluZ0RlcCB9IGZyb20gJy4uL2FwaS9pbml0LXNjcmlwdHMvaW5pdC1ucG0nO1xuXG50eXBlIE1ha2VUYXJnZXRzID0geyBzdHJpbmc6IHN0cmluZ1tdIH07XG5cbnR5cGUgR2l0SHViNUNvbmZpZyA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+ICYge1xuICBuYW1lOiBzdHJpbmc7XG4gIG93bmVyOiBzdHJpbmc7XG4gIG9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xufTtcblxudHlwZSBGb3JnZTVDb25maWcgPSB7XG4gIG1ha2VfdGFyZ2V0cz86IFJlY29yZDxGb3JnZVBsYXRmb3JtLCBzdHJpbmdbXT47XG4gIGVsZWN0cm9uUGFja2FnZXJDb25maWc/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgZWxlY3Ryb25SZWJ1aWxkQ29uZmlnPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGVsZWN0cm9uV2luc3RhbGxlckNvbmZpZz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBlbGVjdHJvbkluc3RhbGxlckRNRz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBlbGVjdHJvbkluc3RhbGxlckZsYXRwYWs/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgZWxlY3Ryb25JbnN0YWxsZXJEZWJpYW4/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgZWxlY3Ryb25JbnN0YWxsZXJSZWRoYXQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgZWxlY3Ryb25JbnN0YWxsZXJTbmFwPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGVsZWN0cm9uV2l4TVNJQ29uZmlnPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIHdpbmRvd3NTdG9yZUNvbmZpZz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXG4gIGdpdGh1Yl9yZXBvc2l0b3J5PzogR2l0SHViNUNvbmZpZztcbiAgczM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgJ2VsZWN0cm9uLXJlbGVhc2Utc2VydmVyJz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBzbmFwU3RvcmU/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn07XG5cbnR5cGUgRm9yZ2U1Q29uZmlnS2V5ID0ga2V5b2YgRm9yZ2U1Q29uZmlnO1xuXG50eXBlIEZvcmdlUGFja2FnZUpTT04gPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiAmIHtcbiAgY29uZmlnOiB7XG4gICAgZm9yZ2U6IEZvcmdlQ29uZmlnO1xuICB9O1xuICBkZXZEZXBlbmRlbmNpZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59O1xuXG5mdW5jdGlvbiBtYXBNYWtlVGFyZ2V0cyhmb3JnZTVDb25maWc6IEZvcmdlNUNvbmZpZyk6IE1hcDxzdHJpbmcsIEZvcmdlUGxhdGZvcm1bXT4ge1xuICBjb25zdCBtYWtlVGFyZ2V0cyA9IG5ldyBNYXA8c3RyaW5nLCBGb3JnZVBsYXRmb3JtW10+KCk7XG4gIGlmIChmb3JnZTVDb25maWcubWFrZV90YXJnZXRzKSB7XG4gICAgZm9yIChjb25zdCBbcGxhdGZvcm0sIHRhcmdldHNdIG9mIE9iamVjdC5lbnRyaWVzKGZvcmdlNUNvbmZpZy5tYWtlX3RhcmdldHMgYXMgTWFrZVRhcmdldHMpKSB7XG4gICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiB0YXJnZXRzKSB7XG4gICAgICAgIGxldCBwbGF0Zm9ybXMgPSBtYWtlVGFyZ2V0cy5nZXQodGFyZ2V0KTtcbiAgICAgICAgaWYgKHBsYXRmb3JtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcGxhdGZvcm1zID0gW107XG4gICAgICAgICAgbWFrZVRhcmdldHMuc2V0KHRhcmdldCwgcGxhdGZvcm1zKTtcbiAgICAgICAgfVxuICAgICAgICBwbGF0Zm9ybXMucHVzaChwbGF0Zm9ybSBhcyBGb3JnZVBsYXRmb3JtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWFrZVRhcmdldHM7XG59XG5cbmNvbnN0IGZvcmdlNU1ha2VyTWFwcGluZ3MgPSBuZXcgTWFwPEZvcmdlNUNvbmZpZ0tleSwgc3RyaW5nPihbXG4gIFsnZWxlY3Ryb25JbnN0YWxsZXJEZWJpYW4nLCAnZGViJ10sXG4gIFsnZWxlY3Ryb25JbnN0YWxsZXJETUcnLCAnZG1nJ10sXG4gIFsnZWxlY3Ryb25JbnN0YWxsZXJGbGF0cGFrJywgJ2ZsYXRwYWsnXSxcbiAgWydlbGVjdHJvbkluc3RhbGxlclJlZGhhdCcsICdycG0nXSxcbiAgWydlbGVjdHJvbkluc3RhbGxlclNuYXAnLCAnc25hcCddLFxuICBbJ2VsZWN0cm9uV2luc3RhbGxlckNvbmZpZycsICdzcXVpcnJlbCddLFxuICBbJ2VsZWN0cm9uV2l4TVNJQ29uZmlnJywgJ3dpeCddLFxuICBbJ3dpbmRvd3NTdG9yZUNvbmZpZycsICdhcHB4J10sXG5dKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBGb3JnZSB2NSBtYWtlciBjb25maWcgdG8gdjYuXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlRm9yZ2VNYWtlckNvbmZpZyhmb3JnZTVDb25maWc6IEZvcmdlNUNvbmZpZyk6IElGb3JnZVJlc29sdmFibGVNYWtlcltdIHtcbiAgY29uc3QgbWFrZVRhcmdldHMgPSBtYXBNYWtlVGFyZ2V0cyhmb3JnZTVDb25maWcpO1xuICBjb25zdCBtYWtlcnM6IElGb3JnZVJlc29sdmFibGVNYWtlcltdID0gW107XG5cbiAgZm9yIChjb25zdCBbZm9yZ2U1S2V5LCBtYWtlclR5cGVdIG9mIGZvcmdlNU1ha2VyTWFwcGluZ3MpIHtcbiAgICBjb25zdCBjb25maWcgPSBmb3JnZTVDb25maWdbZm9yZ2U1S2V5XTtcbiAgICBpZiAoY29uZmlnKSB7XG4gICAgICBtYWtlcnMucHVzaCh7XG4gICAgICAgIG5hbWU6IGBAZWxlY3Ryb24tZm9yZ2UvbWFrZXItJHttYWtlclR5cGV9YCxcbiAgICAgICAgY29uZmlnOiBmb3JnZTVDb25maWdbZm9yZ2U1S2V5XSxcbiAgICAgICAgcGxhdGZvcm1zOiBtYWtlVGFyZ2V0cy5nZXQobWFrZXJUeXBlKSB8fCBbXSxcbiAgICAgIH0gYXMgSUZvcmdlUmVzb2x2YWJsZU1ha2VyKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCB6aXBQbGF0Zm9ybXMgPSBtYWtlVGFyZ2V0cy5nZXQoJ3ppcCcpO1xuICBpZiAoemlwUGxhdGZvcm1zKSB7XG4gICAgbWFrZXJzLnB1c2goe1xuICAgICAgbmFtZTogJ0BlbGVjdHJvbi1mb3JnZS9tYWtlci16aXAnLFxuICAgICAgcGxhdGZvcm1zOiB6aXBQbGF0Zm9ybXMsXG4gICAgfSBhcyBJRm9yZ2VSZXNvbHZhYmxlTWFrZXIpO1xuICB9XG5cbiAgcmV0dXJuIG1ha2Vycztcbn1cblxuY29uc3QgZm9yZ2U1UHVibGlzaGVyTWFwcGluZ3MgPSBuZXcgTWFwPEZvcmdlNUNvbmZpZ0tleSwgc3RyaW5nPihbXG4gIFsnZ2l0aHViX3JlcG9zaXRvcnknLCAnZ2l0aHViJ10sXG4gIFsnczMnLCAnczMnXSxcbiAgWydlbGVjdHJvbi1yZWxlYXNlLXNlcnZlcicsICdlbGVjdHJvbi1yZWxlYXNlLXNlcnZlciddLFxuICBbJ3NuYXBTdG9yZScsICdzbmFwY3JhZnQnXSxcbl0pO1xuXG4vKipcbiAqIFRyYW5zZm9ybXMgdjUgR2l0SHViIHB1Ymxpc2hlciBjb25maWcgdG8gdjYgc3ludGF4LlxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1HaXRIdWJQdWJsaXNoZXJDb25maWcoY29uZmlnOiBHaXRIdWI1Q29uZmlnKSB7XG4gIGNvbnN0IHsgbmFtZSwgb3duZXIsIG9wdGlvbnMsIC4uLmdpdEh1YkNvbmZpZyB9ID0gY29uZmlnO1xuICBnaXRIdWJDb25maWcucmVwb3NpdG9yeSA9IHsgbmFtZSwgb3duZXIgfTtcbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBnaXRIdWJDb25maWcub2N0b2tpdE9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgcmV0dXJuIGdpdEh1YkNvbmZpZztcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBGb3JnZSB2NSBwdWJsaXNoZXIgY29uZmlnIHRvIHY2LlxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUZvcmdlUHVibGlzaGVyQ29uZmlnKGZvcmdlNUNvbmZpZzogRm9yZ2U1Q29uZmlnKTogSUZvcmdlUmVzb2x2YWJsZVB1Ymxpc2hlcltdIHtcbiAgY29uc3QgcHVibGlzaGVyczogSUZvcmdlUmVzb2x2YWJsZVB1Ymxpc2hlcltdID0gW107XG5cbiAgZm9yIChjb25zdCBbZm9yZ2U1S2V5LCBwdWJsaXNoZXJUeXBlXSBvZiBmb3JnZTVQdWJsaXNoZXJNYXBwaW5ncykge1xuICAgIGxldCBjb25maWcgPSBmb3JnZTVDb25maWdbZm9yZ2U1S2V5XTtcbiAgICBpZiAoY29uZmlnKSB7XG4gICAgICBpZiAocHVibGlzaGVyVHlwZSA9PT0gJ2dpdGh1YicpIHtcbiAgICAgICAgY29uZmlnID0gdHJhbnNmb3JtR2l0SHViUHVibGlzaGVyQ29uZmlnKGNvbmZpZyBhcyBHaXRIdWI1Q29uZmlnKTtcbiAgICAgIH1cbiAgICAgIHB1Ymxpc2hlcnMucHVzaCh7XG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgbmFtZTogYEBlbGVjdHJvbi1mb3JnZS9wdWJsaXNoZXItJHtwdWJsaXNoZXJUeXBlfWAsXG4gICAgICAgIHBsYXRmb3JtczogbnVsbCxcbiAgICAgIH0gYXMgSUZvcmdlUmVzb2x2YWJsZU1ha2VyKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcHVibGlzaGVycztcbn1cblxuLyoqXG4gKiBVcGdyYWRlcyBGb3JnZSB2NSBjb25maWcgdG8gdjYuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZ3JhZGVGb3JnZUNvbmZpZyhmb3JnZTVDb25maWc6IEZvcmdlNUNvbmZpZyk6IEZvcmdlQ29uZmlnIHtcbiAgY29uc3QgZm9yZ2VDb25maWc6IEZvcmdlQ29uZmlnID0ge30gYXMgRm9yZ2VDb25maWc7XG5cbiAgaWYgKGZvcmdlNUNvbmZpZy5lbGVjdHJvblBhY2thZ2VyQ29uZmlnKSB7XG4gICAgZGVsZXRlIGZvcmdlNUNvbmZpZy5lbGVjdHJvblBhY2thZ2VyQ29uZmlnLnBhY2thZ2VNYW5hZ2VyO1xuICAgIGZvcmdlQ29uZmlnLnBhY2thZ2VyQ29uZmlnID0gZm9yZ2U1Q29uZmlnLmVsZWN0cm9uUGFja2FnZXJDb25maWc7XG4gIH1cbiAgaWYgKGZvcmdlNUNvbmZpZy5lbGVjdHJvblJlYnVpbGRDb25maWcpIHtcbiAgICBmb3JnZUNvbmZpZy5lbGVjdHJvblJlYnVpbGRDb25maWcgPSBmb3JnZTVDb25maWcuZWxlY3Ryb25SZWJ1aWxkQ29uZmlnO1xuICB9XG4gIGZvcmdlQ29uZmlnLm1ha2VycyA9IGdlbmVyYXRlRm9yZ2VNYWtlckNvbmZpZyhmb3JnZTVDb25maWcpO1xuICBmb3JnZUNvbmZpZy5wdWJsaXNoZXJzID0gZ2VuZXJhdGVGb3JnZVB1Ymxpc2hlckNvbmZpZyhmb3JnZTVDb25maWcpO1xuXG4gIHJldHVybiBmb3JnZUNvbmZpZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVVwZ3JhZGVkRm9yZ2VEZXZEZXBzKHBhY2thZ2VKU09OOiBGb3JnZVBhY2thZ2VKU09OLCBkZXZEZXBzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcbiAgY29uc3QgZm9yZ2VDb25maWcgPSBwYWNrYWdlSlNPTi5jb25maWcuZm9yZ2U7XG4gIGRldkRlcHMgPSBkZXZEZXBzLmZpbHRlcigoZGVwKSA9PiAhZGVwLnN0YXJ0c1dpdGgoJ0BlbGVjdHJvbi1mb3JnZS9tYWtlci0nKSk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gIGRldkRlcHMgPSBkZXZEZXBzLmNvbmNhdCgoZm9yZ2VDb25maWcubWFrZXJzIGFzIElGb3JnZVJlc29sdmFibGVNYWtlcltdKS5tYXAoKG1ha2VyOiBJRm9yZ2VSZXNvbHZhYmxlTWFrZXIpID0+IHNpYmxpbmdEZXAocGF0aC5iYXNlbmFtZShtYWtlci5uYW1lKSkpKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgZGV2RGVwcyA9IGRldkRlcHMuY29uY2F0KFxuICAgIChmb3JnZUNvbmZpZy5wdWJsaXNoZXJzIGFzIElGb3JnZVJlc29sdmFibGVQdWJsaXNoZXJbXSkubWFwKChwdWJsaXNoZXI6IElGb3JnZVJlc29sdmFibGVQdWJsaXNoZXIpID0+IHNpYmxpbmdEZXAocGF0aC5iYXNlbmFtZShwdWJsaXNoZXIubmFtZSkpKVxuICApO1xuXG4gIGlmIChPYmplY3Qua2V5cyhwYWNrYWdlSlNPTi5kZXZEZXBlbmRlbmNpZXMpLmZpbmQoKGRlcDogc3RyaW5nKSA9PiBkZXAgPT09ICdlbGVjdHJvbi1wcmVidWlsdC1jb21waWxlJykpIHtcbiAgICBkZXZEZXBzID0gZGV2RGVwcy5jb25jYXQoc2libGluZ0RlcCgncGx1Z2luLWNvbXBpbGUnKSk7XG4gIH1cblxuICByZXR1cm4gZGV2RGVwcztcbn1cbiJdLCJuYW1lcyI6WyJ1cGdyYWRlRm9yZ2VDb25maWciLCJ1cGRhdGVVcGdyYWRlZEZvcmdlRGV2RGVwcyIsImZvcmdlNUNvbmZpZyIsImZvcmdlQ29uZmlnIiwiZWxlY3Ryb25QYWNrYWdlckNvbmZpZyIsInBhY2thZ2VNYW5hZ2VyIiwicGFja2FnZXJDb25maWciLCJlbGVjdHJvblJlYnVpbGRDb25maWciLCJtYWtlcnMiLCJnZW5lcmF0ZUZvcmdlTWFrZXJDb25maWciLCJwdWJsaXNoZXJzIiwiZ2VuZXJhdGVGb3JnZVB1Ymxpc2hlckNvbmZpZyIsIm1hcE1ha2VUYXJnZXRzIiwibWFrZVRhcmdldHMiLCJNYXAiLCJtYWtlX3RhcmdldHMiLCJwbGF0Zm9ybSIsInRhcmdldHMiLCJPYmplY3QiLCJlbnRyaWVzIiwidGFyZ2V0IiwicGxhdGZvcm1zIiwiZ2V0IiwidW5kZWZpbmVkIiwic2V0IiwicHVzaCIsImZvcmdlNU1ha2VyTWFwcGluZ3MiLCJmb3JnZTVLZXkiLCJtYWtlclR5cGUiLCJjb25maWciLCJuYW1lIiwiemlwUGxhdGZvcm1zIiwiZm9yZ2U1UHVibGlzaGVyTWFwcGluZ3MiLCJ0cmFuc2Zvcm1HaXRIdWJQdWJsaXNoZXJDb25maWciLCJvd25lciIsIm9wdGlvbnMiLCJnaXRIdWJDb25maWciLCJyZXBvc2l0b3J5Iiwib2N0b2tpdE9wdGlvbnMiLCJwdWJsaXNoZXJUeXBlIiwicGFja2FnZUpTT04iLCJkZXZEZXBzIiwiZm9yZ2UiLCJmaWx0ZXIiLCJkZXAiLCJzdGFydHNXaXRoIiwiY29uY2F0IiwibWFwIiwibWFrZXIiLCJzaWJsaW5nRGVwIiwicGF0aCIsImJhc2VuYW1lIiwicHVibGlzaGVyIiwia2V5cyIsImRldkRlcGVuZGVuY2llcyIsImZpbmQiXSwibWFwcGluZ3MiOiI7Ozs7a0JBZ0p3QkEsa0JBQWtCO1FBZ0IxQkMsMEJBQTBCLEdBQTFCQSwwQkFBMEI7QUEvSnpCLEdBQU0sQ0FBTixLQUFNO0FBQ0ksR0FBOEIsQ0FBOUIsUUFBOEI7U0E4SWpDRCxrQkFBa0IsQ0FBQ0UsWUFBMEIsRUFBZSxDQUFDO0lBQ25GLEtBQUssQ0FBQ0MsV0FBVyxHQUFnQixDQUFDLENBQUM7SUFFbkMsRUFBRSxFQUFFRCxZQUFZLENBQUNFLHNCQUFzQixFQUFFLENBQUM7UUFDeEMsTUFBTSxDQUFDRixZQUFZLENBQUNFLHNCQUFzQixDQUFDQyxjQUFjO1FBQ3pERixXQUFXLENBQUNHLGNBQWMsR0FBR0osWUFBWSxDQUFDRSxzQkFBc0I7SUFDbEUsQ0FBQztJQUNELEVBQUUsRUFBRUYsWUFBWSxDQUFDSyxxQkFBcUIsRUFBRSxDQUFDO1FBQ3ZDSixXQUFXLENBQUNJLHFCQUFxQixHQUFHTCxZQUFZLENBQUNLLHFCQUFxQjtJQUN4RSxDQUFDO0lB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