"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _asyncOra = require("@electron-forge/async-ora");
var _chalk = _interopRequireDefault(require("chalk"));
var _debug = _interopRequireDefault(require("debug"));
var _fsExtra = _interopRequireDefault(require("fs-extra"));
var _get = require("@electron/get");
var _fastGlob = _interopRequireDefault(require("fast-glob"));
var _electronPackager = _interopRequireDefault(require("electron-packager"));
var _path = _interopRequireDefault(require("path"));
var _util = require("util");
var _forgeConfig = _interopRequireDefault(require("../util/forge-config"));
var _hook = require("../util/hook");
var _messages = require("../util/messages");
var _readPackageJson = require("../util/read-package-json");
var _rebuild = _interopRequireDefault(require("../util/rebuild"));
var _requireSearch = _interopRequireDefault(require("../util/require-search"));
var _resolveDir = _interopRequireDefault(require("../util/resolve-dir"));
var _outDir = _interopRequireDefault(require("../util/out-dir"));
var _electronVersion = require("../util/electron-version");
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const d = (0, _debug).default('electron-forge:packager');
/**
 * Resolves hooks if they are a path to a file (instead of a `Function`).
 */ function resolveHooks(hooks, dir) {
    if (hooks) {
        return hooks.map((hook)=>typeof hook === 'string' ? (0, _requireSearch).default(dir, [
                hook
            ]) : hook
        );
    }
    return [];
}
/**
 * Runs given hooks sequentially by mapping them to promises and iterating
 * through while awaiting
 */ function sequentialHooks(hooks) {
    return [
        async (buildPath, electronVersion, platform, arch, done)=>{
            for (const hook of hooks){
                await (0, _util).promisify(hook)(buildPath, electronVersion, platform, arch);
            }
            done();
        }, 
    ];
}
var _default = async ({ dir =process.cwd() , interactive =false , arch =(0, _get).getHostArch() , platform =process.platform , outDir  })=>{
    const ora = interactive ? _asyncOra.ora : _asyncOra.fakeOra;
    let prepareSpinner = ora(`Preparing to Package Application for arch: ${_chalk.default.cyan(arch === 'all' ? 'ia32' : arch)}`).start();
    let prepareCounter = 0;
    const resolvedDir = await (0, _resolveDir).default(dir);
    if (!resolvedDir) {
        throw new Error('Failed to locate compilable Electron application');
    }
    dir = resolvedDir;
    const forgeConfig = await (0, _forgeConfig).default(dir);
    const packageJSON = await (0, _readPackageJson).readMutatedPackageJson(dir, forgeConfig);
    if (!packageJSON.main) {
        throw new Error('packageJSON.main must be set to a valid entry point for your Electron app');
    }
    const calculatedOutDir = outDir || (0, _outDir).default(dir, forgeConfig);
    let packagerSpinner;
    const pruneEnabled = !('prune' in forgeConfig.packagerConfig) || forgeConfig.packagerConfig.prune;
    const afterCopyHooks = [
        async (buildPath, electronVersion, pPlatform, pArch, done)=>{
            if (packagerSpinner) {
                packagerSpinner.succeed();
                prepareCounter += 1;
                prepareSpinner = ora(`Preparing to Package Application for arch: ${_chalk.default.cyan(prepareCounter === 2 ? 'armv7l' : 'x64')}`).start();
            }
            const bins = await (0, _fastGlob).default(_path.default.join(buildPath, '**/.bin/**/*'));
            for (const bin of bins){
                await _fsExtra.default.remove(bin);
            }
            done();
        },
        async (buildPath, electronVersion, pPlatform, pArch, done)=>{
            prepareSpinner.succeed();
            await (0, _hook).runHook(forgeConfig, 'packageAfterCopy', buildPath, electronVersion, pPlatform, pArch);
            done();
        },
        async (buildPath, electronVersion, pPlatform, pArch, done)=>{
            await (0, _rebuild).default(buildPath, electronVersion, pPlatform, pArch, forgeConfig.electronRebuildConfig);
            packagerSpinner = ora('Packaging Application').start();
            done();
        }, 
    ];
    afterCopyHooks.push(async (buildPath, electronVersion, pPlatform, pArch, done)=>{
        const copiedPackageJSON = await (0, _readPackageJson).readMutatedPackageJson(buildPath, forgeConfig);
        if (copiedPackageJSON.config && copiedPackageJSON.config.forge) {
            delete copiedPackageJSON.config.forge;
        }
        await _fsExtra.default.writeJson(_path.default.resolve(buildPath, 'package.json'), copiedPackageJSON, {
            spaces: 2
        });
        done();
    });
    afterCopyHooks.push(...resolveHooks(forgeConfig.packagerConfig.afterCopy, dir));
    const afterPruneHooks = [];
    if (pruneEnabled) {
        afterPruneHooks.push(...resolveHooks(forgeConfig.packagerConfig.afterPrune, dir));
    }
    afterPruneHooks.push(async (buildPath, electronVersion, pPlatform, pArch, done)=>{
        await (0, _hook).runHook(forgeConfig, 'packageAfterPrune', buildPath, electronVersion, pPlatform, pArch);
        done();
    });
    const afterExtractHooks = [
        async (buildPath, electronVersion, pPlatform, pArch, done)=>{
            await (0, _hook).runHook(forgeConfig, 'packageAfterExtract', buildPath, electronVersion, pPlatform, pArch);
            done();
        }, 
    ];
    afterExtractHooks.push(...resolveHooks(forgeConfig.packagerConfig.afterExtract, dir));
    const packageOpts = {
        asar: false,
        overwrite: true,
        ...forgeConfig.packagerConfig,
        dir,
        arch: arch,
        platform,
        afterCopy: sequentialHooks(afterCopyHooks),
        afterExtract: sequentialHooks(afterExtractHooks),
        afterPrune: sequentialHooks(afterPruneHooks),
        out: calculatedOutDir,
        electronVersion: await (0, _electronVersion).getElectronVersion(dir, packageJSON)
    };
    packageOpts.quiet = true;
    if (packageOpts.all) {
        throw new Error('config.forge.packagerConfig.all is not supported by Electron Forge');
    }
    if (!packageJSON.version && !packageOpts.appVersion) {
        // eslint-disable-next-line max-len
        (0, _messages).warn(interactive, _chalk.default.yellow('Please set "version" or "config.forge.packagerConfig.appVersion" in your application\'s package.json so auto-updates work properly'));
    }
    if (packageOpts.prebuiltAsar) {
        throw new Error('config.forge.packagerConfig.prebuiltAsar is not supported by Electron Forge');
    }
    await (0, _hook).runHook(forgeConfig, 'generateAssets', platform, arch);
    await (0, _hook).runHook(forgeConfig, 'prePackage', platform, arch);
    d('packaging with options', packageOpts);
    const outputPaths = await (0, _electronPackager).default(packageOpts);
    await (0, _hook).runHook(forgeConfig, 'postPackage', {
        arch,
        outputPaths,
        platform,
        spinner: packagerSpinner
    });
    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
    if (packagerSpinner) packagerSpinner.succeed();
};
exports.default = _default;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcGkvcGFja2FnZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvcmEgYXMgcmVhbE9yYSwgZmFrZU9yYSwgT3JhSW1wbCB9IGZyb20gJ0BlbGVjdHJvbi1mb3JnZS9hc3luYy1vcmEnO1xuaW1wb3J0IHsgRm9yZ2VBcmNoLCBGb3JnZVBsYXRmb3JtIH0gZnJvbSAnQGVsZWN0cm9uLWZvcmdlL3NoYXJlZC10eXBlcyc7XG5pbXBvcnQgY2hhbGsgZnJvbSAnY2hhbGsnO1xuaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCBmcyBmcm9tICdmcy1leHRyYSc7XG5pbXBvcnQgeyBnZXRIb3N0QXJjaCB9IGZyb20gJ0BlbGVjdHJvbi9nZXQnO1xuaW1wb3J0IGdsb2IgZnJvbSAnZmFzdC1nbG9iJztcbmltcG9ydCBwYWNrYWdlciwgeyBIb29rRnVuY3Rpb24gfSBmcm9tICdlbGVjdHJvbi1wYWNrYWdlcic7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gJ3V0aWwnO1xuXG5pbXBvcnQgZ2V0Rm9yZ2VDb25maWcgZnJvbSAnLi4vdXRpbC9mb3JnZS1jb25maWcnO1xuaW1wb3J0IHsgcnVuSG9vayB9IGZyb20gJy4uL3V0aWwvaG9vayc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vdXRpbC9tZXNzYWdlcyc7XG5pbXBvcnQgeyByZWFkTXV0YXRlZFBhY2thZ2VKc29uIH0gZnJvbSAnLi4vdXRpbC9yZWFkLXBhY2thZ2UtanNvbic7XG5pbXBvcnQgcmVidWlsZEhvb2sgZnJvbSAnLi4vdXRpbC9yZWJ1aWxkJztcbmltcG9ydCByZXF1aXJlU2VhcmNoIGZyb20gJy4uL3V0aWwvcmVxdWlyZS1zZWFyY2gnO1xuaW1wb3J0IHJlc29sdmVEaXIgZnJvbSAnLi4vdXRpbC9yZXNvbHZlLWRpcic7XG5pbXBvcnQgZ2V0Q3VycmVudE91dERpciBmcm9tICcuLi91dGlsL291dC1kaXInO1xuaW1wb3J0IHsgZ2V0RWxlY3Ryb25WZXJzaW9uIH0gZnJvbSAnLi4vdXRpbC9lbGVjdHJvbi12ZXJzaW9uJztcblxuY29uc3QgZCA9IGRlYnVnKCdlbGVjdHJvbi1mb3JnZTpwYWNrYWdlcicpO1xuXG4vKipcbiAqIFJlc29sdmVzIGhvb2tzIGlmIHRoZXkgYXJlIGEgcGF0aCB0byBhIGZpbGUgKGluc3RlYWQgb2YgYSBgRnVuY3Rpb25gKS5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUhvb2tzKGhvb2tzOiAoc3RyaW5nIHwgSG9va0Z1bmN0aW9uKVtdIHwgdW5kZWZpbmVkLCBkaXI6IHN0cmluZykge1xuICBpZiAoaG9va3MpIHtcbiAgICByZXR1cm4gaG9va3MubWFwKChob29rKSA9PiAodHlwZW9mIGhvb2sgPT09ICdzdHJpbmcnID8gKHJlcXVpcmVTZWFyY2g8SG9va0Z1bmN0aW9uPihkaXIsIFtob29rXSkgYXMgSG9va0Z1bmN0aW9uKSA6IGhvb2spKTtcbiAgfVxuXG4gIHJldHVybiBbXTtcbn1cblxudHlwZSBEb25lRnVuY3Rpb24gPSAoKSA9PiB2b2lkO1xudHlwZSBQcm9taXNpZmllZEhvb2tGdW5jdGlvbiA9IChidWlsZFBhdGg6IHN0cmluZywgZWxlY3Ryb25WZXJzaW9uOiBzdHJpbmcsIHBsYXRmb3JtOiBzdHJpbmcsIGFyY2g6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcblxuLyoqXG4gKiBSdW5zIGdpdmVuIGhvb2tzIHNlcXVlbnRpYWxseSBieSBtYXBwaW5nIHRoZW0gdG8gcHJvbWlzZXMgYW5kIGl0ZXJhdGluZ1xuICogdGhyb3VnaCB3aGlsZSBhd2FpdGluZ1xuICovXG5mdW5jdGlvbiBzZXF1ZW50aWFsSG9va3MoaG9va3M6IEhvb2tGdW5jdGlvbltdKTogUHJvbWlzaWZpZWRIb29rRnVuY3Rpb25bXSB7XG4gIHJldHVybiBbXG4gICAgYXN5bmMgKGJ1aWxkUGF0aDogc3RyaW5nLCBlbGVjdHJvblZlcnNpb246IHN0cmluZywgcGxhdGZvcm06IHN0cmluZywgYXJjaDogc3RyaW5nLCBkb25lOiBEb25lRnVuY3Rpb24pID0+IHtcbiAgICAgIGZvciAoY29uc3QgaG9vayBvZiBob29rcykge1xuICAgICAgICBhd2FpdCBwcm9taXNpZnkoaG9vaykoYnVpbGRQYXRoLCBlbGVjdHJvblZlcnNpb24sIHBsYXRmb3JtLCBhcmNoKTtcbiAgICAgIH1cbiAgICAgIGRvbmUoKTtcbiAgICB9LFxuICBdIGFzIFByb21pc2lmaWVkSG9va0Z1bmN0aW9uW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFja2FnZU9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIHBhdGggdG8gdGhlIGFwcCB0byBwYWNrYWdlXG4gICAqL1xuICBkaXI/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHVzZSBzZW5zaWJsZSBkZWZhdWx0cyBvciBwcm9tcHQgdGhlIHVzZXIgdmlzdWFsbHlcbiAgICovXG4gIGludGVyYWN0aXZlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSB0YXJnZXQgYXJjaFxuICAgKi9cbiAgYXJjaD86IEZvcmdlQXJjaDtcbiAgLyoqXG4gICAqIFRoZSB0YXJnZXQgcGxhdGZvcm0uXG4gICAqL1xuICBwbGF0Zm9ybT86IEZvcmdlUGxhdGZvcm07XG4gIC8qKlxuICAgKiBUaGUgcGF0aCB0byB0aGUgb3V0cHV0IGRpcmVjdG9yeSBmb3IgcGFja2FnZWQgYXBwc1xuICAgKi9cbiAgb3V0RGlyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyAoe1xuICBkaXIgPSBwcm9jZXNzLmN3ZCgpLFxuICBpbnRlcmFjdGl2ZSA9IGZhbHNlLFxuICBhcmNoID0gZ2V0SG9zdEFyY2goKSBhcyBGb3JnZUFyY2gsXG4gIHBsYXRmb3JtID0gcHJvY2Vzcy5wbGF0Zm9ybSBhcyBGb3JnZVBsYXRmb3JtLFxuICBvdXREaXIsXG59OiBQYWNrYWdlT3B0aW9ucyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICBjb25zdCBvcmEgPSBpbnRlcmFjdGl2ZSA/IHJlYWxPcmEgOiBmYWtlT3JhO1xuXG4gIGxldCBwcmVwYXJlU3Bpbm5lciA9IG9yYShgUHJlcGFyaW5nIHRvIFBhY2thZ2UgQXBwbGljYXRpb24gZm9yIGFyY2g6ICR7Y2hhbGsuY3lhbihhcmNoID09PSAnYWxsJyA/ICdpYTMyJyA6IGFyY2gpfWApLnN0YXJ0KCk7XG4gIGxldCBwcmVwYXJlQ291bnRlciA9IDA7XG5cbiAgY29uc3QgcmVzb2x2ZWREaXIgPSBhd2FpdCByZXNvbHZlRGlyKGRpcik7XG4gIGlmICghcmVzb2x2ZWREaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2NhdGUgY29tcGlsYWJsZSBFbGVjdHJvbiBhcHBsaWNhdGlvbicpO1xuICB9XG4gIGRpciA9IHJlc29sdmVkRGlyO1xuXG4gIGNvbnN0IGZvcmdlQ29uZmlnID0gYXdhaXQgZ2V0Rm9yZ2VDb25maWcoZGlyKTtcbiAgY29uc3QgcGFja2FnZUpTT04gPSBhd2FpdCByZWFkTXV0YXRlZFBhY2thZ2VKc29uKGRpciwgZm9yZ2VDb25maWcpO1xuXG4gIGlmICghcGFja2FnZUpTT04ubWFpbikge1xuICAgIHRocm93IG5ldyBFcnJvcigncGFja2FnZUpTT04ubWFpbiBtdXN0IGJlIHNldCB0byBhIHZhbGlkIGVudHJ5IHBvaW50IGZvciB5b3VyIEVsZWN0cm9uIGFwcCcpO1xuICB9XG5cbiAgY29uc3QgY2FsY3VsYXRlZE91dERpciA9IG91dERpciB8fCBnZXRDdXJyZW50T3V0RGlyKGRpciwgZm9yZ2VDb25maWcpO1xuICBsZXQgcGFja2FnZXJTcGlubmVyOiBPcmFJbXBsIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHBydW5lRW5hYmxlZCA9ICEoJ3BydW5lJyBpbiBmb3JnZUNvbmZpZy5wYWNrYWdlckNvbmZpZykgfHwgZm9yZ2VDb25maWcucGFja2FnZXJDb25maWcucHJ1bmU7XG5cbiAgY29uc3QgYWZ0ZXJDb3B5SG9va3M6IEhvb2tGdW5jdGlvbltdID0gW1xuICAgIGFzeW5jIChidWlsZFBhdGgsIGVsZWN0cm9uVmVyc2lvbiwgcFBsYXRmb3JtLCBwQXJjaCwgZG9uZSkgPT4ge1xuICAgICAgaWYgKHBhY2thZ2VyU3Bpbm5lcikge1xuICAgICAgICBwYWNrYWdlclNwaW5uZXIuc3VjY2VlZCgpO1xuICAgICAgICBwcmVwYXJlQ291bnRlciArPSAxO1xuICAgICAgICBwcmVwYXJlU3Bpbm5lciA9IG9yYShgUHJlcGFyaW5nIHRvIFBhY2thZ2UgQXBwbGljYXRpb24gZm9yIGFyY2g6ICR7Y2hhbGsuY3lhbihwcmVwYXJlQ291bnRlciA9PT0gMiA/ICdhcm12N2wnIDogJ3g2NCcpfWApLnN0YXJ0KCk7XG4gICAgICB9XG4gICAgICBjb25zdCBiaW5zID0gYXdhaXQgZ2xvYihwYXRoLmpvaW4oYnVpbGRQYXRoLCAnKiovLmJpbi8qKi8qJykpO1xuICAgICAgZm9yIChjb25zdCBiaW4gb2YgYmlucykge1xuICAgICAgICBhd2FpdCBmcy5yZW1vdmUoYmluKTtcbiAgICAgIH1cbiAgICAgIGRvbmUoKTtcbiAgICB9LFxuICAgIGFzeW5jIChidWlsZFBhdGgsIGVsZWN0cm9uVmVyc2lvbiwgcFBsYXRmb3JtLCBwQXJjaCwgZG9uZSkgPT4ge1xuICAgICAgcHJlcGFyZVNwaW5uZXIuc3VjY2VlZCgpO1xuICAgICAgYXdhaXQgcnVuSG9vayhmb3JnZUNvbmZpZywgJ3BhY2thZ2VBZnRlckNvcHknLCBidWlsZFBhdGgsIGVsZWN0cm9uVmVyc2lvbiwgcFBsYXRmb3JtLCBwQXJjaCk7XG4gICAgICBkb25lKCk7XG4gICAgfSxcbiAgICBhc3luYyAoYnVpbGRQYXRoLCBlbGVjdHJvblZlcnNpb24sIHBQbGF0Zm9ybSwgcEFyY2gsIGRvbmUpID0+IHtcbiAgICAgIGF3YWl0IHJlYnVpbGRIb29rKGJ1aWxkUGF0aCwgZWxlY3Ryb25WZXJzaW9uLCBwUGxhdGZvcm0sIHBBcmNoLCBmb3JnZUNvbmZpZy5lbGVjdHJvblJlYnVpbGRDb25maWcpO1xuICAgICAgcGFja2FnZXJTcGlubmVyID0gb3JhKCdQYWNrYWdpbmcgQXBwbGljYXRpb24nKS5zdGFydCgpO1xuICAgICAgZG9uZSgpO1xuICAgIH0sXG4gIF07XG5cbiAgYWZ0ZXJDb3B5SG9va3MucHVzaChhc3luYyAoYnVpbGRQYXRoLCBlbGVjdHJvblZlcnNpb24sIHBQbGF0Zm9ybSwgcEFyY2gsIGRvbmUpID0+IHtcbiAgICBjb25zdCBjb3BpZWRQYWNrYWdlSlNPTiA9IGF3YWl0IHJlYWRNdXRhdGVkUGFja2FnZUpzb24oYnVpbGRQYXRoLCBmb3JnZUNvbmZpZyk7XG4gICAgaWYgKGNvcGllZFBhY2thZ2VKU09OLmNvbmZpZyAmJiBjb3BpZWRQYWNrYWdlSlNPTi5jb25maWcuZm9yZ2UpIHtcbiAgICAgIGRlbGV0ZSBjb3BpZWRQYWNrYWdlSlNPTi5jb25maWcuZm9yZ2U7XG4gICAgfVxuICAgIGF3YWl0IGZzLndyaXRlSnNvbihwYXRoLnJlc29sdmUoYnVpbGRQYXRoLCAncGFja2FnZS5qc29uJyksIGNvcGllZFBhY2thZ2VKU09OLCB7IHNwYWNlczogMiB9KTtcbiAgICBkb25lKCk7XG4gIH0pO1xuXG4gIGFmdGVyQ29weUhvb2tzLnB1c2goLi4ucmVzb2x2ZUhvb2tzKGZvcmdlQ29uZmlnLnBhY2thZ2VyQ29uZmlnLmFmdGVyQ29weSwgZGlyKSk7XG5cbiAgY29uc3QgYWZ0ZXJQcnVuZUhvb2tzID0gW107XG5cbiAgaWYgKHBydW5lRW5hYmxlZCkge1xuICAgIGFmdGVyUHJ1bmVIb29rcy5wdXNoKC4uLnJlc29sdmVIb29rcyhmb3JnZUNvbmZpZy5wYWNrYWdlckNvbmZpZy5hZnRlclBydW5lLCBkaXIpKTtcbiAgfVxuXG4gIGFmdGVyUHJ1bmVIb29rcy5wdXNoKChhc3luYyAoYnVpbGRQYXRoLCBlbGVjdHJvblZlcnNpb24sIHBQbGF0Zm9ybSwgcEFyY2gsIGRvbmUpID0+IHtcbiAgICBhd2FpdCBydW5Ib29rKGZvcmdlQ29uZmlnLCAncGFja2FnZUFmdGVyUHJ1bmUnLCBidWlsZFBhdGgsIGVsZWN0cm9uVmVyc2lvbiwgcFBsYXRmb3JtLCBwQXJjaCk7XG4gICAgZG9uZSgpO1xuICB9KSBhcyBIb29rRnVuY3Rpb24pO1xuXG4gIGNvbnN0IGFmdGVyRXh0cmFjdEhvb2tzID0gW1xuICAgIChhc3luYyAoYnVpbGRQYXRoLCBlbGVjdHJvblZlcnNpb24sIHBQbGF0Zm9ybSwgcEFyY2gsIGRvbmUpID0+IHtcbiAgICAgIGF3YWl0IHJ1bkhvb2soZm9yZ2VDb25maWcsICdwYWNrYWdlQWZ0ZXJFeHRyYWN0JywgYnVpbGRQYXRoLCBlbGVjdHJvblZlcnNpb24sIHBQbGF0Zm9ybSwgcEFyY2gpO1xuICAgICAgZG9uZSgpO1xuICAgIH0pIGFzIEhvb2tGdW5jdGlvbixcbiAgXTtcbiAgYWZ0ZXJFeHRyYWN0SG9va3MucHVzaCguLi5yZXNvbHZlSG9va3MoZm9yZ2VDb25maWcucGFja2FnZXJDb25maWcuYWZ0ZXJFeHRyYWN0LCBkaXIpKTtcblxuICB0eXBlIFBhY2thZ2VyQXJjaCA9IEV4Y2x1ZGU8Rm9yZ2VBcmNoLCAnYXJtJz47XG5cbiAgY29uc3QgcGFja2FnZU9wdHM6IHBhY2thZ2VyLk9wdGlvbnMgPSB7XG4gICAgYXNhcjogZmFsc2UsXG4gICAgb3ZlcndyaXRlOiB0cnVlLFxuICAgIC4uLmZvcmdlQ29uZmlnLnBhY2thZ2VyQ29uZmlnLFxuICAgIGRpcixcbiAgICBhcmNoOiBhcmNoIGFzIFBhY2thZ2VyQXJjaCxcbiAgICBwbGF0Zm9ybSxcbiAgICBhZnRlckNvcHk6IHNlcXVlbnRpYWxIb29rcyhhZnRlckNvcHlIb29rcyksXG4gICAgYWZ0ZXJFeHRyYWN0OiBzZXF1ZW50aWFsSG9va3MoYWZ0ZXJFeHRyYWN0SG9va3MpLFxuICAgIGFmdGVyUHJ1bmU6IHNlcXVlbnRpYWxIb29rcyhhZnRlclBydW5lSG9va3MpLFxuICAgIG91dDogY2FsY3VsYXRlZE91dERpcixcbiAgICBlbGVjdHJvblZlcnNpb246IGF3YWl0IGdldEVsZWN0cm9uVmVyc2lvbihkaXIsIHBhY2thZ2VKU09OKSxcbiAgfTtcbiAgcGFja2FnZU9wdHMucXVpZXQgPSB0cnVlO1xuXG4gIGlmIChwYWNrYWdlT3B0cy5hbGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbmZpZy5mb3JnZS5wYWNrYWdlckNvbmZpZy5hbGwgaXMgbm90IHN1cHBvcnRlZCBieSBFbGVjdHJvbiBGb3JnZScpO1xuICB9XG5cbiAgaWYgKCFwYWNrYWdlSlNPTi52ZXJzaW9uICYmICFwYWNrYWdlT3B0cy5hcHBWZXJzaW9uKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICB3YXJuKFxuICAgICAgaW50ZXJhY3RpdmUsXG4gICAgICBjaGFsay55ZWxsb3coJ1BsZWFzZSBzZXQgXCJ2ZXJzaW9uXCIgb3IgXCJjb25maWcuZm9yZ2UucGFja2FnZXJDb25maWcuYXBwVmVyc2lvblwiIGluIHlvdXIgYXBwbGljYXRpb25cXCdzIHBhY2thZ2UuanNvbiBzbyBhdXRvLXVwZGF0ZXMgd29yayBwcm9wZXJseScpXG4gICAgKTtcbiAgfVxuXG4gIGlmIChwYWNrYWdlT3B0cy5wcmVidWlsdEFzYXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbmZpZy5mb3JnZS5wYWNrYWdlckNvbmZpZy5wcmVidWlsdEFzYXIgaXMgbm90IHN1cHBvcnRlZCBieSBFbGVjdHJvbiBGb3JnZScpO1xuICB9XG5cbiAgYXdhaXQgcnVuSG9vayhmb3JnZUNvbmZpZywgJ2dlbmVyYXRlQXNzZXRzJywgcGxhdGZvcm0sIGFyY2gpO1xuICBhd2FpdCBydW5Ib29rKGZvcmdlQ29uZmlnLCAncHJlUGFja2FnZScsIHBsYXRmb3JtLCBhcmNoKTtcblxuICBkKCdwYWNrYWdpbmcgd2l0aCBvcHRpb25zJywgcGFja2FnZU9wdHMpO1xuXG4gIGNvbnN0IG91dHB1dFBhdGhzID0gYXdhaXQgcGFja2FnZXIocGFja2FnZU9wdHMpO1xuXG4gIGF3YWl0IHJ1bkhvb2soZm9yZ2VDb25maWcsICdwb3N0UGFja2FnZScsIHtcbiAgICBhcmNoLFxuICAgIG91dHB1dFBhdGhzLFxuICAgIHBsYXRmb3JtLFxuICAgIHNwaW5uZXI6IHBhY2thZ2VyU3Bpbm5lcixcbiAgfSk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgaWYgKHBhY2thZ2VyU3Bpbm5lcikgcGFja2FnZXJTcGlubmVyIS5zdWNjZWVkKCk7XG59O1xuIl0sIm5hbWVzIjpbImQiLCJkZWJ1ZyIsInJlc29sdmVIb29rcyIsImhvb2tzIiwiZGlyIiwibWFwIiwiaG9vayIsInJlcXVpcmVTZWFyY2giLCJzZXF1ZW50aWFsSG9va3MiLCJidWlsZFBhdGgiLCJlbGVjdHJvblZlcnNpb24iLCJwbGF0Zm9ybSIsImFyY2giLCJkb25lIiwicHJvbWlzaWZ5IiwicHJvY2VzcyIsImN3ZCIsImludGVyYWN0aXZlIiwiZ2V0SG9zdEFyY2giLCJvdXREaXIiLCJvcmEiLCJyZWFsT3JhIiwiZmFrZU9yYSIsInByZXBhcmVTcGlubmVyIiwiY2hhbGsiLCJjeWFuIiwic3RhcnQiLCJwcmVwYXJlQ291bnRlciIsInJlc29sdmVkRGlyIiwicmVzb2x2ZURpciIsIkVycm9yIiwiZm9yZ2VDb25maWciLCJnZXRGb3JnZUNvbmZpZyIsInBhY2thZ2VKU09OIiwicmVhZE11dGF0ZWRQYWNrYWdlSnNvbiIsIm1haW4iLCJjYWxjdWxhdGVkT3V0RGlyIiwiZ2V0Q3VycmVudE91dERpciIsInBhY2thZ2VyU3Bpbm5lciIsInBydW5lRW5hYmxlZCIsInBhY2thZ2VyQ29uZmlnIiwicHJ1bmUiLCJhZnRlckNvcHlIb29rcyIsInBQbGF0Zm9ybSIsInBBcmNoIiwic3VjY2VlZCIsImJpbnMiLCJnbG9iIiwicGF0aCIsImpvaW4iLCJiaW4iLCJmcyIsInJlbW92ZSIsInJ1bkhvb2siLCJyZWJ1aWxkSG9vayIsImVsZWN0cm9uUmVidWlsZENvbmZpZyIsInB1c2giLCJjb3BpZWRQYWNrYWdlSlNPTiIsImNvbmZpZyIsImZvcmdlIiwid3JpdGVKc29uIiwicmVzb2x2ZSIsInNwYWNlcyIsImFmdGVyQ29weSIsImFmdGVyUHJ1bmVIb29rcyIsImFmdGVyUHJ1bmUiLCJhZnRlckV4dHJhY3RIb29rcyIsImFmdGVyRXh0cmFjdCIsInBhY2thZ2VPcHRzIiwiYXNhciIsIm92ZXJ3cml0ZSIsIm91dCIsImdldEVsZWN0cm9uVmVyc2lvbiIsInF1aWV0IiwiYWxsIiwidmVyc2lvbiIsImFwcFZlcnNpb24iLCJ3YXJuIiwieWVsbG93IiwicHJlYnVpbHRBc2FyIiwib3V0cHV0UGF0aHMiLCJwYWNrYWdlciIsInNwaW5uZXIiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQWlELEdBQTJCLENBQTNCLFNBQTJCO0FBRTFELEdBQU8sQ0FBUCxNQUFPO0FBQ1AsR0FBTyxDQUFQLE1BQU87QUFDVixHQUFVLENBQVYsUUFBVTtBQUNHLEdBQWUsQ0FBZixJQUFlO0FBQzFCLEdBQVcsQ0FBWCxTQUFXO0FBQ1csR0FBbUIsQ0FBbkIsaUJBQW1CO0FBQ3pDLEdBQU0sQ0FBTixLQUFNO0FBQ0csR0FBTSxDQUFOLEtBQU07QUFFTCxHQUFzQixDQUF0QixZQUFzQjtBQUN6QixHQUFjLENBQWQsS0FBYztBQUNqQixHQUFrQixDQUFsQixTQUFrQjtBQUNBLEdBQTJCLENBQTNCLGdCQUEyQjtBQUMxQyxHQUFpQixDQUFqQixRQUFpQjtBQUNmLEdBQXdCLENBQXhCLGNBQXdCO0FBQzNCLEdBQXFCLENBQXJCLFdBQXFCO0FBQ2YsR0FBaUIsQ0FBakIsT0FBaUI7QUFDWCxHQUEwQixDQUExQixnQkFBMEI7Ozs7OztBQUU3RCxLQUFLLENBQUNBLENBQUMsT0FBR0MsTUFBSyxVQUFDLENBQXlCO0FBRXpDLEVBRUcsQUFGSDs7Q0FFRyxBQUZILEVBRUcsVUFDTUMsWUFBWSxDQUFDQyxLQUE0QyxFQUFFQyxHQUFXLEVBQUUsQ0FBQztJQUNoRixFQUFFLEVBQUVELEtBQUssRUFBRSxDQUFDO1FBQ1YsTUFBTSxDQUFDQSxLQUFLLENBQUNFLEdBQUcsRUFBRUMsSUFBSSxHQUFNLE1BQU0sQ0FBQ0EsSUFBSSxLQUFLLENBQVEsY0FBSUMsY0FBYSxVQUFlSCxHQUFHLEVBQUUsQ0FBQ0U7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