{
  "manifest": {
    "name": "gtoken",
    "version": "6.1.2",
    "description": "Node.js Google Authentication Service Account Tokens",
    "main": "./build/src/index.js",
    "types": "./build/src/index.d.ts",
    "engines": {
      "node": ">=12.0.0"
    },
    "repository": {
      "type": "git",
      "url": "https://github.com/google/node-gtoken.git"
    },
    "scripts": {
      "lint": "gts check",
      "clean": "gts clean",
      "fix": "gts fix",
      "compile": "tsc -p .",
      "test": "c8 mocha build/test",
      "prepare": "npm run compile",
      "pretest": "npm run compile",
      "presystem-test": "npm run compile",
      "system-test": "mocha build/system-test",
      "samples-test": "cd samples/ && npm link ../ && npm test && cd ../",
      "docs": "compodoc src/",
      "docs-test": "linkinator docs",
      "predocs-test": "npm run docs",
      "prelint": "cd samples; npm link ../; npm install",
      "precompile": "gts clean"
    },
    "keywords": [
      "google",
      "service",
      "account",
      "api",
      "token",
      "api",
      "auth"
    ],
    "author": {
      "name": "Google, LLC"
    },
    "license": "MIT",
    "dependencies": {
      "gaxios": "^5.0.1",
      "google-p12-pem": "^4.0.0",
      "jws": "^4.0.0"
    },
    "devDependencies": {
      "@compodoc/compodoc": "^1.1.7",
      "@types/jws": "^3.1.0",
      "@types/mocha": "^9.0.0",
      "@types/node": "^16.0.0",
      "c8": "^7.0.0",
      "gts": "^3.0.0",
      "linkinator": "^4.0.0",
      "mocha": "^9.2.2",
      "nock": "^13.0.0",
      "typescript": "^4.6.4"
    },
    "files": [
      "build/src",
      "!build/src/**/*.map"
    ],
    "_registry": "npm",
    "_loc": "/home/brunomiguel/userrepository/pkgbuild/cerebro/src/yarn-cache/v6/npm-gtoken-6.1.2-aeb7bdb019ff4c3ba3ac100bbe7b6e74dce0e8bc-integrity/node_modules/gtoken/package.json",
    "readmeFilename": "README.md",
    "readme": "<img src=\"https://avatars2.githubusercontent.com/u/2810941?v=3&s=96\" alt=\"Google Cloud Platform logo\" title=\"Google Cloud Platform\" align=\"right\" height=\"96\" width=\"96\"/>\n\n# [node-gtoken](https://github.com/googleapis/node-gtoken)\n\n[![npm version][npm-image]][npm-url]\n[![Known Vulnerabilities][snyk-image]][snyk-url]\n[![codecov][codecov-image]][codecov-url]\n[![Code Style: Google][gts-image]][gts-url]\n\n> Node.js Google Authentication Service Account Tokens\n\nThis is a low level utility library used to interact with Google Authentication services.  **In most cases, you probably want to use the [google-auth-library](https://github.com/googleapis/google-auth-library-nodejs) instead.**\n\n* [gtoken API Reference][client-docs]\n* [github.com/googleapis/node-gtoken](https://github.com/googleapis/node-gtoken)\n\n## Installation\n\n``` sh\nnpm install gtoken\n```\n\n## Usage\n\n### Use with a `.pem` or `.p12` key file:\n\n``` js\nconst { GoogleToken } = require('gtoken');\nconst gtoken = new GoogleToken({\n  keyFile: 'path/to/key.pem', // or path to .p12 key file\n  email: 'my_service_account_email@developer.gserviceaccount.com',\n  scope: ['https://scope1', 'https://scope2'], // or space-delimited string of scopes\n  eagerRefreshThresholdMillis: 5 * 60 * 1000\n});\n\ngtoken.getToken((err, tokens) => {\n  if (err) {\n    console.log(err);\n    return;\n  }\n  console.log(tokens);\n  // {\n  //   access_token: 'very-secret-token',\n  //   expires_in: 3600,\n  //   token_type: 'Bearer'\n  // }\n});\n```\n\nYou can also use the async/await style API:\n\n``` js\nconst tokens = await gtoken.getToken()\nconsole.log(tokens);\n```\n\nOr use promises:\n\n```js\ngtoken.getToken()\n  .then(tokens => {\n    console.log(tokens)\n  })\n  .catch(console.error);\n```\n\n### Use with a service account `.json` key file:\n\n``` js\nconst { GoogleToken } = require('gtoken');\nconst gtoken = new GoogleToken({\n  keyFile: 'path/to/key.json',\n  scope: ['https://scope1', 'https://scope2'], // or space-delimited string of scopes\n  eagerRefreshThresholdMillis: 5 * 60 * 1000\n});\n\ngtoken.getToken((err, tokens) => {\n  if (err) {\n    console.log(err);\n    return;\n  }\n  console.log(tokens);\n});\n```\n\n### Pass the private key as a string directly:\n\n``` js\nconst key = '-----BEGIN RSA PRIVATE KEY-----\\nXXXXXXXXXXX...';\nconst { GoogleToken } = require('gtoken');\nconst gtoken = new GoogleToken({\n  email: 'my_service_account_email@developer.gserviceaccount.com',\n  scope: ['https://scope1', 'https://scope2'], // or space-delimited string of scopes\n  key: key,\n  eagerRefreshThresholdMillis: 5 * 60 * 1000\n});\n```\n\n## Options\n\n> Various options that can be set when creating initializing the `gtoken` object.\n\n- `options.email or options.iss`: The service account email address.\n- `options.scope`: An array of scope strings or space-delimited string of scopes.\n- `options.sub`: The email address of the user requesting delegated access.\n- `options.keyFile`: The filename of `.json` key, `.pem` key or `.p12` key.\n- `options.key`: The raw RSA private key value, in place of using `options.keyFile`.\n- `options.additionalClaims`: Additional claims to include in the JWT when requesting a token.\n- `options.eagerRefreshThresholdMillis`: How long must a token be valid for in order to return it from the cache. Defaults to 0.\n\n### .getToken(callback)\n\n> Returns the cached tokens or requests a new one and returns it.\n\n``` js\ngtoken.getToken((err, token) => {\n  console.log(err || token);\n  // gtoken.rawToken value is also set\n});\n```\n\n### .getCredentials('path/to/key.json')\n\n> Given a keyfile, returns the key and (if available) the client email.\n\n```js\nconst creds = await gtoken.getCredentials('path/to/key.json');\n```\n\n### Properties\n\n> Various properties set on the gtoken object after call to `.getToken()`.\n\n- `gtoken.idToken`: The OIDC token returned (if any).\n- `gtoken.accessToken`: The access token.\n- `gtoken.expiresAt`: The expiry date as milliseconds since 1970/01/01\n- `gtoken.key`: The raw key value.\n- `gtoken.rawToken`: Most recent raw token data received from Google.\n\n### .hasExpired()\n\n> Returns true if the token has expired, or token does not exist.\n\n``` js\nconst tokens = await gtoken.getToken();\ngtoken.hasExpired(); // false\n```\n\n### .revokeToken()\n\n> Revoke the token if set.\n\n``` js\nawait gtoken.revokeToken();\nconsole.log('Token revoked!');\n```\n\n## Downloading your private `.p12` key from Google\n\n1. Open the [Google Developer Console][gdevconsole].\n2. Open your project and under \"APIs & auth\", click Credentials.\n3. Generate a new `.p12` key and download it into your project.\n\n## Converting your `.p12` key to a `.pem` key\n\nYou can just specify your `.p12` file (with `.p12` extension) as the `keyFile` and it will automatically be converted to a `.pem` on the fly, however this results in a slight performance hit. If you'd like to convert to a `.pem` for use later, use OpenSSL if you have it installed.\n\n``` sh\n$ openssl pkcs12 -in key.p12 -nodes -nocerts > key.pem\n```\n\nDon't forget, the passphrase when converting these files is the string `'notasecret'`\n\n## License\n\n[MIT](https://github.com/googleapis/node-gtoken/blob/main/LICENSE)\n\n[codecov-image]: https://codecov.io/gh/googleapis/node-gtoken/branch/main/graph/badge.svg\n[codecov-url]: https://codecov.io/gh/googleapis/node-gtoken\n[gdevconsole]: https://console.developers.google.com\n[gts-image]: https://img.shields.io/badge/code%20style-google-blueviolet.svg\n[gts-url]: https://www.npmjs.com/package/gts\n[npm-image]: https://img.shields.io/npm/v/gtoken.svg\n[npm-url]: https://npmjs.org/package/gtoken\n[snyk-image]: https://snyk.io/test/github/googleapis/node-gtoken/badge.svg\n[snyk-url]: https://snyk.io/test/github/googleapis/node-gtoken\n[client-docs]: https://googleapis.dev/nodejs/gtoken/latest/\n",
    "licenseText": "The MIT License (MIT)\n\nCopyright (c) 2014 Ryan Seys\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.yarnpkg.com/gtoken/-/gtoken-6.1.2.tgz#aeb7bdb019ff4c3ba3ac100bbe7b6e74dce0e8bc",
    "type": "tarball",
    "reference": "https://registry.yarnpkg.com/gtoken/-/gtoken-6.1.2.tgz",
    "hash": "aeb7bdb019ff4c3ba3ac100bbe7b6e74dce0e8bc",
    "integrity": "sha512-4ccGpzz7YAr7lxrT2neugmXQ3hP9ho2gcaityLVkiUecAiwiy60Ii8gRbZeOsXV19fYaRjgBSshs8kXw+NKCPQ==",
    "registry": "npm",
    "packageName": "gtoken",
    "cacheIntegrity": "sha512-4ccGpzz7YAr7lxrT2neugmXQ3hP9ho2gcaityLVkiUecAiwiy60Ii8gRbZeOsXV19fYaRjgBSshs8kXw+NKCPQ== sha1-rre9sBn/TDujrBALvntudNzg6Lw="
  },
  "registry": "npm",
  "hash": "aeb7bdb019ff4c3ba3ac100bbe7b6e74dce0e8bc"
}