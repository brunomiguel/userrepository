{
  "manifest": {
    "name": "@rollup/plugin-commonjs",
    "version": "21.0.1",
    "publishConfig": {
      "access": "public"
    },
    "description": "Convert CommonJS modules to ES2015",
    "license": "MIT",
    "repository": {
      "url": "https://github.com/rollup/plugins.git",
      "directory": "packages/commonjs"
    },
    "author": {
      "name": "Rich Harris",
      "email": "richard.a.harris@gmail.com"
    },
    "homepage": "https://github.com/rollup/plugins/tree/master/packages/commonjs/#readme",
    "bugs": {
      "url": "https://github.com/rollup/plugins/issues"
    },
    "main": "dist/index.js",
    "module": "dist/index.es.js",
    "engines": {
      "node": ">= 8.0.0"
    },
    "scripts": {
      "build": "rollup -c",
      "ci:coverage": "nyc pnpm test && nyc report --reporter=text-lcov > coverage.lcov",
      "ci:lint": "pnpm build && pnpm lint",
      "ci:lint:commits": "commitlint --from=${CIRCLE_BRANCH} --to=${CIRCLE_SHA1}",
      "ci:test": "pnpm test -- --verbose && pnpm test:ts",
      "prebuild": "del-cli dist",
      "prepare": "if [ ! -d 'dist' ]; then pnpm build; fi",
      "prerelease": "pnpm build",
      "pretest": "pnpm build",
      "release": "pnpm plugin:release --workspace-root -- --pkg $npm_package_name",
      "test": "ava",
      "test:ts": "tsc types/index.d.ts test/types.ts --noEmit"
    },
    "files": [
      "dist",
      "types",
      "README.md",
      "LICENSE"
    ],
    "keywords": [
      "rollup",
      "plugin",
      "npm",
      "modules",
      "commonjs",
      "require"
    ],
    "peerDependencies": {
      "rollup": "^2.38.3"
    },
    "dependencies": {
      "@rollup/pluginutils": "^3.1.0",
      "commondir": "^1.0.1",
      "estree-walker": "^2.0.1",
      "glob": "^7.1.6",
      "is-reference": "^1.2.1",
      "magic-string": "^0.25.7",
      "resolve": "^1.17.0"
    },
    "devDependencies": {
      "@rollup/plugin-json": "^4.1.0",
      "@rollup/plugin-node-resolve": "^8.4.0",
      "locate-character": "^2.0.5",
      "require-relative": "^0.8.7",
      "rollup": "^2.58.0",
      "shx": "^0.3.2",
      "source-map": "^0.7.3",
      "source-map-support": "^0.5.19",
      "typescript": "^3.9.7"
    },
    "types": "types/index.d.ts",
    "ava": {
      "babel": {
        "compileEnhancements": false
      },
      "files": [
        "!**/fixtures/**",
        "!**/helpers/**",
        "!**/recipes/**",
        "!**/types.ts"
      ]
    },
    "_registry": "npm",
    "_loc": "/home/brunomiguel/userrepository/pkgbuild/cerebro/src/yarn-cache/v6/npm-@rollup-plugin-commonjs-21.0.1-integrity/node_modules/@rollup/plugin-commonjs/package.json",
    "readmeFilename": "README.md",
    "readme": "[npm]: https://img.shields.io/npm/v/@rollup/plugin-commonjs\n[npm-url]: https://www.npmjs.com/package/@rollup/plugin-commonjs\n[size]: https://packagephobia.now.sh/badge?p=@rollup/plugin-commonjs\n[size-url]: https://packagephobia.now.sh/result?p=@rollup/plugin-commonjs\n\n[![npm][npm]][npm-url]\n[![size][size]][size-url]\n[![libera manifesto](https://img.shields.io/badge/libera-manifesto-lightgrey.svg)](https://liberamanifesto.com)\n\n# @rollup/plugin-commonjs\n\nüç£ A Rollup plugin to convert CommonJS modules to ES6, so they can be included in a Rollup bundle\n\n## Requirements\n\nThis plugin requires an [LTS](https://github.com/nodejs/Release) Node version (v8.0.0+) and Rollup v1.20.0+.\n\n## Install\n\nUsing npm:\n\n```bash\nnpm install @rollup/plugin-commonjs --save-dev\n```\n\n## Usage\n\nCreate a `rollup.config.js` [configuration file](https://www.rollupjs.org/guide/en/#configuration-files) and import the plugin:\n\n```js\nimport commonjs from '@rollup/plugin-commonjs';\n\nexport default {\n  input: 'src/index.js',\n  output: {\n    dir: 'output',\n    format: 'cjs'\n  },\n  plugins: [commonjs()]\n};\n```\n\nThen call `rollup` either via the [CLI](https://www.rollupjs.org/guide/en/#command-line-reference) or the [API](https://www.rollupjs.org/guide/en/#javascript-api).\n\n## Options\n\n### `dynamicRequireTargets`\n\nType: `string | string[]`<br>\nDefault: `[]`\n\nSome modules contain dynamic `require` calls, or require modules that contain circular dependencies, which are not handled well by static imports.\nIncluding those modules as `dynamicRequireTargets` will simulate a CommonJS (NodeJS-like) environment for them with support for dynamic and circular dependencies.\n\n_Note: In extreme cases, this feature may result in some paths being rendered as absolute in the final bundle. The plugin tries to avoid exposing paths from the local machine, but if you are `dynamicRequirePaths` with paths that are far away from your project's folder, that may require replacing strings like `\"/Users/John/Desktop/foo-project/\"` -> `\"/\"`._\n\nExample:\n\n```js\ncommonjs({\n  dynamicRequireTargets: [\n    // include using a glob pattern (either a string or an array of strings)\n    'node_modules/logform/*.js',\n\n    // exclude files that are known to not be required dynamically, this allows for better optimizations\n    '!node_modules/logform/index.js',\n    '!node_modules/logform/format.js',\n    '!node_modules/logform/levels.js',\n    '!node_modules/logform/browser.js'\n  ]\n});\n```\n\n### `exclude`\n\nType: `string | string[]`<br>\nDefault: `null`\n\nA [minimatch pattern](https://github.com/isaacs/minimatch), or array of patterns, which specifies the files in the build the plugin should _ignore_. By default, all files with extensions other than those in `extensions` or `\".cjs\"` are ignored, but you can exclude additional files. See also the `include` option.\n\n### `include`\n\nType: `string | string[]`<br>\nDefault: `null`\n\nA [minimatch pattern](https://github.com/isaacs/minimatch), or array of patterns, which specifies the files in the build the plugin should operate on. By default, all files with extension `\".cjs\"` or those in `extensions` are included, but you can narrow this list by only including specific files. These files will be analyzed and transpiled if either the analysis does not find ES module specific statements or `transformMixedEsModules` is `true`.\n\n### `extensions`\n\nType: `string[]`<br>\nDefault: `['.js']`\n\nFor extensionless imports, search for extensions other than .js in the order specified. Note that you need to make sure that non-JavaScript files are transpiled by another plugin first.\n\n### `ignoreGlobal`\n\nType: `boolean`<br>\nDefault: `false`\n\nIf true, uses of `global` won't be dealt with by this plugin.\n\n### `sourceMap`\n\nType: `boolean`<br>\nDefault: `true`\n\nIf false, skips source map generation for CommonJS modules. This will improve performance.\n\n### `transformMixedEsModules`\n\nType: `boolean`<br>\nDefault: `false`\n\nInstructs the plugin whether to enable mixed module transformations. This is useful in scenarios with modules that contain a mix of ES `import` statements and CommonJS `require` expressions. Set to `true` if `require` calls should be transformed to imports in mixed modules, or `false` if the `require` expressions should survive the transformation. The latter can be important if the code contains environment detection, or you are coding for an environment with special treatment for `require` calls such as [ElectronJS](https://www.electronjs.org/). See also the \"ignore\" option.\n\n### `ignore`\n\nType: `string[] | ((id: string) => boolean)`<br>\nDefault: `[]`\n\nSometimes you have to leave require statements unconverted. Pass an array containing the IDs or an `id => boolean` function.\n\n### `ignoreTryCatch`\n\nType: `boolean | 'remove' | string[] | ((id: string) => boolean)`<br>\nDefault: `true`\n\nIn most cases, where `require` calls are inside a `try-catch` clause, they should be left unconverted as it requires an optional dependency that may or may not be installed beside the rolled up package.\nDue to the conversion of `require` to a static `import` - the call is hoisted to the top of the file, outside of the `try-catch` clause.\n\n- `true`: All `require` calls inside a `try` will be left unconverted.\n- `false`: All `require` calls inside a `try` will be converted as if the `try-catch` clause is not there.\n- `remove`: Remove all `require` calls from inside any `try` block.\n- `string[]`: Pass an array containing the IDs to left unconverted.\n- `((id: string) => boolean|'remove')`: Pass a function that control individual IDs.\n\n### `ignoreDynamicRequires`\n\nType: `boolean`\nDefault: false\n\nSome `require` calls cannot be resolved statically to be translated to imports, e.g.\n\n```js\nfunction wrappedRequire(target) {\n  return require(target);\n}\nwrappedRequire('foo');\nwrappedRequire('bar');\n```\n\nWhen this option is set to `false`, the generated code will either directly throw an error when such a call is encountered or, when `dynamicRequireTargets` is used, when such a call cannot be resolved with a configured dynamic require target.\n\nSetting this option to `true` will instead leave the `require` call in the code or use it as a fallback for `dynamicRequireTargets`.\n\n### `esmExternals`\n\nType: `boolean | string[] | ((id: string) => boolean)`\nDefault: `false`\n\nControls how to render imports from external dependencies. By default, this plugin assumes that all external dependencies are CommonJS. This means they are rendered as default imports to be compatible with e.g. NodeJS where ES modules can only import a default export from a CommonJS dependency:\n\n```js\n// input\nconst foo = require('foo');\n\n// output\nimport foo from 'foo';\n```\n\nThis is likely not desired for ES module dependencies: Here `require` should usually return the namespace to be compatible with how bundled modules are handled.\n\nIf you set `esmExternals` to `true`, this plugins assumes that all external dependencies are ES modules and will adhere to the `requireReturnsDefault` option. If that option is not set, they will be rendered as namespace imports.\n\nYou can also supply an array of ids to be treated as ES modules, or a function that will be passed each external id to determine if it is an ES module.\n\n### `defaultIsModuleExports`\n\nType: `boolean | \"auto\"`<br>\nDefault: `\"auto\"`\n\nControls what is the default export when importing a CommonJS file from an ES module.\n\n- `true`: The value of the default export is `module.exports`. This currently matches the behavior of Node.js when importing a CommonJS file.\n  ```js\n  // mod.cjs\n  exports.default = 3;\n  ```\n  ```js\n  import foo from './mod.cjs';\n  console.log(foo); // { default: 3 }\n  ```\n- `false`: The value of the default export is `exports.default`.\n  ```js\n  // mod.cjs\n  exports.default = 3;\n  ```\n  ```js\n  import foo from './mod.cjs';\n  console.log(foo); // 3\n  ```\n- `\"auto\"`: The value of the default export is `exports.default` if the CommonJS file has an `exports.__esModule === true` property; otherwise it's `module.exports`. This makes it possible to import\n  the default export of ES modules compiled to CommonJS as if they were not compiled.\n  ```js\n  // mod.cjs\n  exports.default = 3;\n  ```\n  ```js\n  // mod-compiled.cjs\n  exports.__esModule = true;\n  exports.default = 3;\n  ```\n  ```js\n  import foo from './mod.cjs';\n  import bar from './mod-compiled.cjs';\n  console.log(foo); // { default: 3 }\n  console.log(bar); // 3\n  ```\n\n### `requireReturnsDefault`\n\nType: `boolean | \"namespace\" | \"auto\" | \"preferred\" | ((id: string) => boolean | \"auto\" | \"preferred\")`<br>\nDefault: `false`\n\nControls what is returned when requiring an ES module from a CommonJS file. When using the `esmExternals` option, this will also apply to external modules. By default, this plugin will render those imports as namespace imports, i.e.\n\n```js\n// input\nconst foo = require('foo');\n\n// output\nimport * as foo from 'foo';\n```\n\nThis is in line with how other bundlers handle this situation and is also the most likely behaviour in case Node should ever support this. However there are some situations where this may not be desired:\n\n- There is code in an external dependency that cannot be changed where a `require` statement expects the default export to be returned from an ES module.\n- If the imported module is in the same bundle, Rollup will generate a namespace object for the imported module which can increase bundle size unnecessarily:\n\n  ```js\n  // input: main.js\n  const dep = require('./dep.js');\n  console.log(dep.default);\n\n  // input: dep.js\n  export default 'foo';\n\n  // output\n  var dep = 'foo';\n\n  var dep$1 = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    default: dep\n  });\n\n  console.log(dep$1.default);\n  ```\n\nFor these situations, you can change Rollup's behaviour either globally or per module. To change it globally, set the `requireReturnsDefault` option to one of the following values:\n\n- `false`: This is the default, requiring an ES module returns its namespace. This is the only option that will also add a marker `__esModule: true` to the namespace to support interop patterns in CommonJS modules that are transpiled ES modules.\n\n  ```js\n  // input\n  const dep = require('dep');\n  console.log(dep);\n\n  // output\n  import * as dep$1 from 'dep';\n\n  function getAugmentedNamespace(n) {\n    var a = Object.defineProperty({}, '__esModule', { value: true });\n    Object.keys(n).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(n, k);\n      Object.defineProperty(\n        a,\n        k,\n        d.get\n          ? d\n          : {\n              enumerable: true,\n              get: function () {\n                return n[k];\n              }\n            }\n      );\n    });\n    return a;\n  }\n\n  var dep = /*@__PURE__*/ getAugmentedNamespace(dep$1);\n\n  console.log(dep);\n  ```\n\n- `\"namespace\"`: Like `false`, requiring an ES module returns its namespace, but the plugin does not add the `__esModule` marker and thus creates more efficient code. For external dependencies when using `esmExternals: true`, no additional interop code is generated.\n\n  ```js\n  // output\n  import * as dep from 'dep';\n\n  console.log(dep);\n  ```\n\n- `\"auto\"`: This is complementary to how [`output.exports`](https://rollupjs.org/guide/en/#outputexports): `\"auto\"` works in Rollup: If a module has a default export and no named exports, requiring that module returns the default export. In all other cases, the namespace is returned. For external dependencies when using `esmExternals: true`, a corresponding interop helper is added:\n\n  ```js\n  // output\n  import * as dep$1 from 'dep';\n\n  function getDefaultExportFromNamespaceIfNotNamed(n) {\n    return n && Object.prototype.hasOwnProperty.call(n, 'default') && Object.keys(n).length === 1\n      ? n['default']\n      : n;\n  }\n\n  var dep = getDefaultExportFromNamespaceIfNotNamed(dep$1);\n\n  console.log(dep);\n  ```\n\n- `\"preferred\"`: If a module has a default export, requiring that module always returns the default export, no matter whether additional named exports exist. This is similar to how previous versions of this plugin worked. Again for external dependencies when using `esmExternals: true`, an interop helper is added:\n\n  ```js\n  // output\n  import * as dep$1 from 'dep';\n\n  function getDefaultExportFromNamespaceIfPresent(n) {\n    return n && Object.prototype.hasOwnProperty.call(n, 'default') ? n['default'] : n;\n  }\n\n  var dep = getDefaultExportFromNamespaceIfPresent(dep$1);\n\n  console.log(dep);\n  ```\n\n- `true`: This will always try to return the default export on require without checking if it actually exists. This can throw at build time if there is no default export. This is how external dependencies are handled when `esmExternals` is not used. The advantage over the other options is that, like `false`, this does not add an interop helper for external dependencies, keeping the code lean:\n\n  ```js\n  // output\n  import dep from 'dep';\n\n  console.log(dep);\n  ```\n\nTo change this for individual modules, you can supply a function for `requireReturnsDefault` instead. This function will then be called once for each required ES module or external dependency with the corresponding id and allows you to return different values for different modules.\n\n## Using with @rollup/plugin-node-resolve\n\nSince most CommonJS packages you are importing are probably dependencies in `node_modules`, you may need to use [@rollup/plugin-node-resolve](https://github.com/rollup/plugins/tree/master/packages/node-resolve):\n\n```js\n// rollup.config.js\nimport resolve from '@rollup/plugin-node-resolve';\nimport commonjs from '@rollup/plugin-commonjs';\n\nexport default {\n  input: 'main.js',\n  output: {\n    file: 'bundle.js',\n    format: 'iife',\n    name: 'MyModule'\n  },\n  plugins: [resolve(), commonjs()]\n};\n```\n\n## Usage with symlinks\n\nSymlinks are common in monorepos and are also created by the `npm link` command. Rollup with `@rollup/plugin-node-resolve` resolves modules to their real paths by default. So `include` and `exclude` paths should handle real paths rather than symlinked paths (e.g. `../common/node_modules/**` instead of `node_modules/**`). You may also use a regular expression for `include` that works regardless of base path. Try this:\n\n```js\ncommonjs({\n  include: /node_modules/\n});\n```\n\nWhether symlinked module paths are [realpathed](http://man7.org/linux/man-pages/man3/realpath.3.html) or preserved depends on Rollup's `preserveSymlinks` setting, which is false by default, matching Node.js' default behavior. Setting `preserveSymlinks` to true in your Rollup config will cause `import` and `export` to match based on symlinked paths instead.\n\n## Strict mode\n\nES modules are _always_ parsed in strict mode. That means that certain non-strict constructs (like octal literals) will be treated as syntax errors when Rollup parses modules that use them. Some older CommonJS modules depend on those constructs, and if you depend on them your bundle will blow up. There's basically nothing we can do about that.\n\nLuckily, there is absolutely no good reason _not_ to use strict mode for everything ‚Äî so the solution to this problem is to lobby the authors of those modules to update them.\n\n## Inter-plugin-communication\n\nThis plugin exposes the result of its CommonJS file type detection for other plugins to use. You can access it via `this.getModuleInfo` or the `moduleParsed` hook:\n\n```js\nfunction cjsDetectionPlugin() {\n  return {\n    name: 'cjs-detection',\n    moduleParsed({\n      id,\n      meta: {\n        commonjs: { isCommonJS }\n      }\n    }) {\n      console.log(`File ${id} is CommonJS: ${isCommonJS}`);\n    }\n  };\n}\n```\n\n## Meta\n\n[CONTRIBUTING](/.github/CONTRIBUTING.md)\n\n[LICENSE (MIT)](/LICENSE)\n",
    "licenseText": "The MIT License (MIT)\n\nCopyright (c) 2019 RollupJS Plugin Contributors (https://github.com/rollup/plugins/graphs/contributors)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.npmjs.org/@rollup/plugin-commonjs/-/plugin-commonjs-21.0.1.tgz",
    "type": "tarball",
    "reference": "https://registry.npmjs.org/@rollup/plugin-commonjs/-/plugin-commonjs-21.0.1.tgz",
    "hash": "",
    "integrity": "sha512-EA+g22lbNJ8p5kuZJUYyhhDK7WgJckW5g4pNN7n4mAFUM96VuwUnNT3xr2Db2iCZPI1pJPbGyfT5mS9T1dHfMg==",
    "registry": "npm",
    "packageName": "@rollup/plugin-commonjs",
    "cacheIntegrity": "sha512-EA+g22lbNJ8p5kuZJUYyhhDK7WgJckW5g4pNN7n4mAFUM96VuwUnNT3xr2Db2iCZPI1pJPbGyfT5mS9T1dHfMg== sha1-HlfIGuFRjk3wlU1oHGQufZRYj+4="
  },
  "registry": "npm",
  "hash": "100fa0db695b349f29e64b992546328610caed68097245b9838a4d37b9f898015433de95bb0527353df1af60dbda20993c8d6924f6c6c9f4f9992f53d5d1df32"
}