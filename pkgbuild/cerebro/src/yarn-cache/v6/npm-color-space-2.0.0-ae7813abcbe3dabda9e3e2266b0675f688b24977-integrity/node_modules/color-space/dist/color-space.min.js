var a={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},n={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(a){var n,t,r,h,u,e=a[0]/360,c=a[1]/100,i=a[2]/100;if(0===c)return[u=255*i,u,u];n=2*i-(t=i<.5?i*(1+c):i+c-i*c),h=[0,0,0];for(var o=0;o<3;o++)(r=e+1/3*-(o-1))<0?r++:r>1&&r--,u=6*r<1?n+6*(t-n)*r:2*r<1?t:3*r<2?n+(t-n)*(2/3-r)*6:n,h[o]=255*u;return h}};a.hsl=function(a){var n,t,r=a[0]/255,h=a[1]/255,u=a[2]/255,e=Math.min(r,h,u),c=Math.max(r,h,u),i=c-e;return c===e?n=0:r===c?n=(h-u)/i:h===c?n=2+(u-r)/i:u===c&&(n=4+(r-h)/i),(n=Math.min(60*n,360))<0&&(n+=360),t=(e+c)/2,[n,100*(c===e?0:t<=.5?i/(c+e):i/(2-c-e)),100*t]};var t={name:"hsv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","value"],alias:["HSV","HSB"],rgb:function(a){var n=a[0]/60,t=a[1]/100,r=a[2]/100,h=Math.floor(n)%6,u=n-Math.floor(n),e=255*r*(1-t),c=255*r*(1-t*u),i=255*r*(1-t*(1-u));switch(r*=255,h){case 0:return[r,i,e];case 1:return[c,r,e];case 2:return[e,r,i];case 3:return[e,c,r];case 4:return[i,e,r];case 5:return[r,e,c]}},hsl:function(a){var n,t,r=a[0],h=a[1]/100,u=a[2]/100;return n=h*u,[r,100*(n=(n/=(t=(2-h)*u)<=1?t:2-t)||0),100*(t/=2)]}};a.hsv=function(a){var n,t,r=a[0],h=a[1],u=a[2],e=Math.min(r,h,u),c=Math.max(r,h,u),i=c-e;return t=0===c?0:i/c*100,c===e?n=0:r===c?n=(h-u)/i:h===c?n=2+(u-r)/i:u===c&&(n=4+(r-h)/i),(n=Math.min(60*n,360))<0&&(n+=360),[n,t,c/255*1e3/10]},n.hsv=function(a){var n=a[0],t=a[1]/100,r=a[2]/100;return[n,100*(2*(t*=(r*=2)<=1?r:2-r)/(r+t)||0),(r+t)/2*100]};var r={name:"hsi",min:[0,0,0],max:[360,100,255],channel:["hue","saturation","intensity"],alias:["HSI"],rgb:function(a){var n,t,r,h=(a[0]<0?a[0]%360+360:a[0]%360)*Math.PI/180,u=Math.max(0,Math.min(a[1],100))/100,e=Math.max(0,Math.min(a[2],255))/255,c=Math.PI/3;return h<2*c?(r=e*(1-u),n=e*(1+u*Math.cos(h)/Math.cos(c-h)),t=e*(1+u*(1-Math.cos(h)/Math.cos(c-h)))):h<4*c?(h-=2*c,n=e*(1-u),t=e*(1+u*Math.cos(h)/Math.cos(c-h)),r=e*(1+u*(1-Math.cos(h)/Math.cos(c-h)))):(h-=4*c,t=e*(1-u),r=e*(1+u*Math.cos(h)/Math.cos(c-h)),n=e*(1+u*(1-Math.cos(h)/Math.cos(c-h)))),[255*n,255*t,255*r]}};a.hsi=function(a){var n=a[0]+a[1]+a[2],t=a[0]/n,r=a[1]/n,h=a[2]/n,u=Math.acos(.5*(t-r+(t-h))/Math.sqrt((t-r)*(t-r)+(t-h)*(r-h)));h>r&&(u=2*Math.PI-u);var e=1-3*Math.min(t,r,h),c=n/3;return[180*u/Math.PI,100*e,c]};var h={name:"hwb",min:[0,0,0],max:[360,100,100],channel:["hue","whiteness","blackness"],alias:["HWB"],rgb:function(a){var n,t,r,h,u,e,c,i=a[0]/360,o=a[1]/100,s=a[2]/100,v=o+s;switch(v>1&&(o/=v,s/=v),r=6*i-(n=Math.floor(6*i)),0!=(1&n)&&(r=1-r),h=o+r*((t=1-s)-o),n){default:case 6:case 0:u=t,e=h,c=o;break;case 1:u=h,e=t,c=o;break;case 2:u=o,e=t,c=h;break;case 3:u=o,e=h,c=t;break;case 4:u=h,e=o,c=t;break;case 5:u=t,e=o,c=h}return[255*u,255*e,255*c]},hsv:function(a){var n,t,r=a[0],h=a[1],u=a[2];return h+u>=100?(n=0,t=100*h/(h+u)):(n=100-h/(1-u/100),t=100-u),[r,n,t]},hsl:function(a){return t.hsl(h.hsv(a))}};a.hwb=function(n){var t=n[0],r=n[1],h=n[2];return[a.hsl(n)[0],1/255*Math.min(t,Math.min(r,h))*100,100*(h=1-1/255*Math.max(t,Math.max(r,h)))]},t.hwb=function(a){var n=a[0],t=a[1],r=a[2];return[n,0===r?0:r*(1-t/100),100-r]},n.hwb=function(a){return t.hwb(n.hsv(a))};const u={name:"cmyk",min:[0,0,0,0],max:[100,100,100,100],channel:["cyan","magenta","yellow","black"],alias:["CMYK"],rgb:function(a){var n=a[0]/100,t=a[1]/100,r=a[2]/100,h=a[3]/100;return[255*(1-Math.min(1,n*(1-h)+h)),255*(1-Math.min(1,t*(1-h)+h)),255*(1-Math.min(1,r*(1-h)+h))]}};a.cmyk=function(a){var n,t=a[0]/255,r=a[1]/255,h=a[2]/255;return[100*((1-t-(n=Math.min(1-t,1-r,1-h)))/(1-n)||0),100*((1-r-n)/(1-n)||0),100*((1-h-n)/(1-n)||0),100*n]},a.cmy=function(a){return[100*(1-a[0]/255)||0,100*(1-a[1]/255)||0,100*(1-a[2]/255)||0]};var e={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};e.max=e.whitepoint[2].D65,e.rgb=function(a,n){n=n||e.whitepoint[2].E;var t,r,h,u=a[0]/n[0],c=a[1]/n[1],i=a[2]/n[2];return r=-.96924363628087*u+1.87596750150772*c+.041555057407175*i,h=.055630079696993*u+-.20397695888897*c+1.056971514242878*i,t=(t=3.240969941904521*u+-1.537383177570093*c+-.498610760293*i)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:h*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(h=Math.min(Math.max(0,h),1))]},a.xyz=function(a,n){var t=a[0]/255,r=a[1]/255,h=a[2]/255,u=.21263900587151*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.71516867876775*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.072192315360733*(h=h>.04045?Math.pow((h+.055)/1.055,2.4):h/12.92),c=.019330818715591*t+.11919477979462*r+.95053215224966*h;return[(.41239079926595*t+.35758433938387*r+.18048078840183*h)*(n=n||e.whitepoint[2].E)[0],u*n[1],c*n[2]]};var c={name:"xyy",min:[0,0,0],max:[1,1,100],channel:["x","y","Y"],alias:["xyY","Yxy","yxy"],xyz:function(a){var n,t,r;return t=a[0],r=a[1],n=a[2],0===r?[0,0,0]:[t*n/r,n,(1-t-r)*n/r]}};e.xyy=function(a){var n,t,r;return 0===(n=(t=a[0])+(r=a[1])+a[2])?[0,0,r]:[t/n,r/n,r]};var i={name:"yiq",min:[0,-.5957,-.5226],max:[1,.5957,.5226],channel:["Y","I","Q"],alias:["YIQ"],rgb:function(a){var n,t,r,h=a[0],u=a[1],e=a[2];return n=1*h+.956*u+.621*e,t=1*h+-.272*u+-.647*e,r=1*h+-1.108*u+1.705*e,[255*(n=Math.min(Math.max(0,n),1)),255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1))]}};a.yiq=function(a){var n=a[0]/255,t=a[1]/255,r=a[2]/255,h=0,u=0;return n===t&&t===r||(h=.596*n+-.275*t+-.321*r,u=.212*n+-.528*t+.311*r),[.299*n+.587*t+.114*r,h,u]};var o={name:"yuv",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","U","V"],alias:["YUV","EBU"],rgb:function(a){var n,t,r,h=a[0],u=a[1],e=a[2];return n=1*h+0*u+1.13983*e,t=1*h+-.39465*u+-.5806*e,r=1*h+2.02311*u+0*e,[255*(n=Math.min(Math.max(0,n),1)),255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1))]}};a.yuv=function(a){var n=a[0]/255,t=a[1]/255,r=a[2]/255;return[.299*n+.587*t+.114*r,-.14713*n+-.28886*t+.436*r,.615*n+-.51499*t+-.10001*r]};var s={name:"ydbdr",min:[0,-1.333,-1.333],max:[1,1.333,1.333],channel:["Y","Db","Dr"],alias:["YDbDr"],rgb:function(a){var n=a[0],t=a[1],r=a[2];return[255*(n+92303716148e-15*t-.525912630661865*r),255*(n-.129132898890509*t+.267899328207599*r),255*(n+.664679059978955*t-79202543533e-15*r)]}};a.ydbdr=function(a){var n=a[0]/255,t=a[1]/255,r=a[2]/255;return[.299*n+.587*t+.114*r,-.45*n-.883*t+1.333*r,-1.333*n+1.116*t+.217*r]},o.ydbdr=function(a){return[a[0],3.059*a[1],-2.169*a[2]]},s.yuv=function(a){return[a[0],a[1]/3.059,-a[2]/2.169]},a.ycgco=function(a){var n=a[0]/255,t=a[1]/255,r=a[2]/255;return[.25*n+.5*t+.25*r,-.25*n+.5*t-.25*r,.5*n-.5*r]};var v={name:"ypbpr",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","Pb","Pr"],alias:["YPbPr","Y/PB/PR","YPRPB","PRPBY","PBPRY","Y/Pb/Pr","YPrPb","PrPbY","PbPrY","Y/R-Y/B-Y","Y(R-Y)(B-Y)","R-Y","B-Y"],rgb:function(a,n,t){var r=a[0],h=a[1];n=n||.0722;var u=r+2*a[2]*(1-(t=t||.2126)),e=r+2*h*(1-n);return[255*u,(r-t*u-n*e)/(1-t-n)*255,255*e]}};a.ypbpr=function(a,n,t){var r=a[0]/255,h=a[1]/255,u=a[2]/255,e=(t=t||.2126)*r+(1-t-(n=n||.0722))*h+n*u;return[e,.5*(u-e)/(1-n),.5*(r-e)/(1-t)]};var l={name:"ycbcr",min:[16,16,16],max:[235,240,240],channel:["Y","Cb","Cr"],alias:["YCbCr","YCC"]};v.ycbcr=function(a){return[16+219*a[0],128+224*a[1],128+224*a[2]]},l.ypbpr=function(a){return[(a[0]-16)/219,(a[1]-128)/224,(a[2]-128)/224]},l.rgb=function(a,n,t){return v.rgb(l.ypbpr(a),n,t)},a.ycbcr=function(n,t,r){return v.ycbcr(a.ypbpr(n,t,r))};var m={name:"xvycc",min:[0,0,0],max:[255,255,255],channel:["Y","Cb","Cr"],alias:["xvYCC"]};v.xvycc=function(a){return[16+219*a[0],128+224*a[1],128+224*a[2]]},m.ypbpr=function(a){return[(a[0]-16)/219,(a[1]-128)/224,(a[2]-128)/224]},m.rgb=function(a,n,t){return v.rgb(m.ypbpr(a),n,t)},a.xvycc=function(n,t,r){return v.xvycc(a.ypbpr(n,t,r))};var M={name:"yccbccrc",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Yc","Cbc","Crc"],alias:["YcCbcCrc"],rgb:function(a){return v.rgb(a,.0593,.2627)}};a.yccbccrc=function(n){return a.ypbpr(n,.0593,.2627)};var f={name:"ucs",min:[0,0,0],max:[100,100,100],channel:["U","V","W"],alias:["UCS","cie1960"],xyz:function(a){var n=a[0],t=a[1];return[1.5*n,t,1.5*n-3*t+2*a[2]]}};e.ucs=function(a){var n=a[0],t=a[1];return[2*n/3,t,.5*(3*t-n+a[2])]};var b={name:"uvw",min:[-134,-140,0],max:[224,122,100],channel:["U","V","W"],alias:["UVW","cieuvw","cie1964"],xyz:function(a,n,t){var r,h,u,c,i,o,s,v,l,m,M;return c=a[0],i=a[1],0===(u=a[2])?[0,0,0]:(n=n||"D65",t=t||2,m=4*(s=e.whitepoint[t][n][0])/(s+15*(v=e.whitepoint[t][n][1])+3*(l=e.whitepoint[t][n][2])),M=6*v/(s+15*v+3*l),[1.5*(o=Math.pow((u+17)/25,3))*(r=c/(13*u)+m||0)/(h=i/(13*u)+M||0),o,o*(2/h-.5*r/h-5)])}};e.uvw=function(a,n,t){var r,h,u,c,i,o=a[0],s=a[1],v=a[2];n=n||"D65",t=t||2,c=4*(r=e.whitepoint[t][n][0])/(r+15*(h=e.whitepoint[t][n][1])+3*(u=e.whitepoint[t][n][2])),i=6*h/(r+15*h+3*u);var l=4*o/(o+15*s+3*v)||0,m=6*s/(o+15*s+3*v)||0,M=25*Math.pow(s,1/3)-17;return[13*M*(l-c),13*M*(m-i),M]},b.ucs=function(a){},f.uvw=function(a){},a.jpeg=function(a){var n=a[0],t=a[1],r=a[2];return[.299*n+.587*t+.114*r,128-.168736*n-.331264*t+.5*r,128+.5*n-.418688*t-.081312*r]};var x={name:"lab",min:[0,-100,-100],max:[100,100,100],channel:["lightness","a","b"],alias:["LAB","cielab"],xyz:function(a){var n,t,r,h,u=a[0],e=a[1],c=a[2];return u<=8?h=(t=100*u/903.3)/100*7.787+16/116:(t=100*Math.pow((u+16)/116,3),h=Math.pow(t/100,1/3)),[n=n/95.047<=.008856?n=95.047*(e/500+h-16/116)/7.787:95.047*Math.pow(e/500+h,3),t,r=r/108.883<=.008859?r=108.883*(h-c/200-16/116)/7.787:108.883*Math.pow(h-c/200,3)]}};e.lab=function(a){var n=a[0],t=a[1],r=a[2];return t/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116)-16,500*(n-t),200*(t-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},e.labh=function(a){var n=a[0],t=a[1],r=a[2],h=Math.sqrt(t);return[10*h,0===t?0:(1.02*n-t)/h*17.5,0===t?0:(t-.847*r)/h*7]};var p={name:"lms",min:[0,0,0],max:[100,100,100],channel:["long","medium","short"],matrix:{HPE:[.38971,.68898,-.07868,-.22981,1.1834,.04641,0,0,1],VONKRIES:[.4002,.7076,-.0808,-.2263,1.1653,.0457,0,0,.9182],BFD:[.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0686,1.0296],CAT97:[.8562,.3372,-.1934,-.836,1.8327,.0033,.0357,-.00469,1.0112],CAT00:[.7982,.3389,-.1371,-.5918,1.5512,.0406,8e-4,.0239,.9753],CAT02:[.7328,.4296,-.1624,-.7036,1.6975,.0061,.003,.0136,.9834]},xyz:function(a,n){var t=a[0],r=a[1],h=a[2];return n||(n=[1.096123820835514,-.278869000218287,.182745179382773,.454369041975359,.473533154307412,.072097803717229,-.009627608738429,-.005698031216113,1.015325639954543]),[t*n[0]+r*n[1]+h*n[2],t*n[3]+r*n[4]+h*n[5],t*n[6]+r*n[7]+h*n[8]]}};e.lms=function(a,n){var t=a[0],r=a[1],h=a[2];return n||(n=p.matrix.CAT02),[t*n[0]+r*n[1]+h*n[2],t*n[3]+r*n[4]+h*n[5],t*n[6]+r*n[7]+h*n[8]]};var y={name:"lchab",min:[0,0,0],max:[100,100,360],channel:["lightness","chroma","hue"],alias:["LCHab","cielch","LCH","HLC","LSH"],xyz:function(a){return x.xyz(y.lab(a))},lab:function(a){var n,t=a[0],r=a[1];return n=a[2]/360*2*Math.PI,[t,r*Math.cos(n),r*Math.sin(n)]}};x.lchab=function(a){var n,t=a[0],r=a[1],h=a[2];return(n=360*Math.atan2(h,r)/2/Math.PI)<0&&(n+=360),[t,Math.sqrt(r*r+h*h),n]},e.lchab=function(a){return x.lchab(e.lab(a))};var g={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(a,n,t){var r,h,u,c,i,o,s,v,l;return u=a[0],c=a[1],i=a[2],0===u?[0,0,0]:(n=n||"D65",t=t||2,r=c/(13*u)+4*(s=e.whitepoint[t][n][0])/(s+15*(v=e.whitepoint[t][n][1])+3*(l=e.whitepoint[t][n][2]))||0,h=i/(13*u)+9*v/(s+15*v+3*l)||0,[9*(o=u>8?v*Math.pow((u+16)/116,3):v*u*.0011070564598794539)*r/(4*h)||0,o,o*(12-3*r-20*h)/(4*h)||0])}};e.luv=function(a,n,t){var r,h,u,c,i,o,s,v,l,m,M;n=n||"D65",t=t||2,m=4*(s=e.whitepoint[t][n][0])/(s+15*(v=e.whitepoint[t][n][1])+3*(l=e.whitepoint[t][n][2])),M=9*v/(s+15*v+3*l),r=4*(c=a[0])/(c+15*(i=a[1])+3*(o=a[2]))||0,h=9*i/(c+15*i+3*o)||0;var f=i/v;return[u=f<=.008856451679035631?903.2962962962961*f:116*Math.pow(f,1/3)-16,13*u*(r-m),13*u*(h-M)]};var w={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(a){var n,t=a[0],r=a[1];return n=a[2]/360*2*Math.PI,[t,r*Math.cos(n),r*Math.sin(n)]},xyz:function(a){return g.xyz(w.luv(a))}};function P(a){var n=[],t=Math.pow(a+16,3)/1560896;t=t>N?t:a/j;for(var r=0;3>r;){var h=r++,u=E[h][0],e=E[h][1];h=E[h][2];for(var c=0;2>c;){var i=c++,o=(632260*h-126452*e)*t+126452*i;n.push({b:(284517*u-94839*h)*t/o,a:((838422*h+769860*e+731718*u)*a*t-769860*i*a)/o})}}return n}function Y(a){a=P(a);for(var n=1/0,t=0;t<a.length;){var r=a[t];++t,n=Math.min(n,Math.abs(r.a)/Math.sqrt(Math.pow(r.b,2)+1))}return n}function C(a,n){n=n/360*Math.PI*2,a=P(a);for(var t=1/0,r=0;r<a.length;){var h=a[r];++r,0<=(h=h.a/(Math.sin(n)-h.b*Math.cos(n)))&&(t=Math.min(t,h))}return t}function T(a,n){for(var t=0,r=0,h=a.length;r<h;){var u=r++;t+=a[u]*n[u]}return t}function H(a){return.0031308>=a?12.92*a:1.055*Math.pow(a,.4166666666666667)-.055}function z(a){return.04045<a?Math.pow((a+.055)/1.055,2.4):a/12.92}function d(a){return[H(T(E[0],a)),H(T(E[1],a)),H(T(E[2],a))]}function q(a){return a=[z(a[0]),z(a[1]),z(a[2])],[T(F[0],a),T(F[1],a),T(F[2],a)]}function I(a){var n=a[0],t=a[1];return 0!=(a=n+15*t+3*a[2])?(n=4*n/a,a=9*t/a):a=n=NaN,0==(t=t<=N?t/G*j:116*Math.pow(t/G,.3333333333333333)-16)?[0,0,0]:[t,13*t*(n-W),13*t*(a-X)]}function L(a){var n=a[0];if(0==n)return[0,0,0];var t=a[1]/(13*n)+W;return a=a[2]/(13*n)+X,[t=0-9*(n=8>=n?G*n/j:G*Math.pow((n+16)/116,3))*t/((t-4)*a-t*a),n,(9*n-15*a*n-a*t)/(3*a)]}function D(a){var n=a[0],t=a[1],r=a[2];return 1e-8>(a=Math.sqrt(t*t+r*r))?t=0:0>(t=180*Math.atan2(r,t)/Math.PI)&&(t=360+t),[n,a,t]}function k(a){var n=a[1],t=a[2]/360*2*Math.PI;return[a[0],Math.cos(t)*n,Math.sin(t)*n]}function B(a){var n=a[0],t=a[1];return 99.9999999<(a=a[2])?[100,0,n]:1e-8>a?[0,0,n]:[a,t=C(a,n)/100*t,n]}function S(a){var n=a[0],t=a[1];return a=a[2],99.9999999<n?[a,0,100]:1e-8>n?[a,0,0]:[a,t/C(n,a)*100,n]}function R(a){var n=a[0],t=a[1];return 99.9999999<(a=a[2])?[100,0,n]:1e-8>a?[0,0,n]:[a,t=Y(a)/100*t,n]}function A(a){var n=a[0],t=a[1];return a=a[2],99.9999999<n?[a,0,100]:1e-8>n?[a,0,0]:[a,t/Y(n)*100,n]}function U(a){return d(L(k(a)))}function V(a){return D(I(q(a)))}g.lchuv=function(a){var n=a[0],t=a[1],r=a[2],h=Math.sqrt(t*t+r*r),u=360*Math.atan2(r,t)/2/Math.PI;return u<0&&(u+=360),[n,h,u]},e.lchuv=function(a){return g.lchuv(e.luv(a))};var E=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],F=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],G=1,W=.19783000664283,X=.46831999493879,j=903.2962962,N=.0088564516;const K={hsluvToRgb:function(a){return U(B(a))},hsluvToLch:B,rgbToHsluv:function(a){return S(V(a))},rgbToHpluv:function(a){return A(V(a))},rgbToXyz:q,rgbToLch:V,hpluvToRgb:function(a){return U(R(a))},hpluvToLch:R,lchToHpluv:A,lchToHsluv:S,lchToLuv:k,lchToRgb:U,luvToLch:D,luvToXyz:L,xyzToLuv:I,xyzToRgb:d};var O={name:"hsluv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSLuv","HuSL"],lchuv:K.hsluvToLch,xyz:function(a){return w.xyz(K.hsluvToLch(a))},hpluv:function(a){return K.lchToHpluv(K.hsluvToLch(a))},_hsluv:K};w.hsluv=K.lchToHsluv,e.hsluv=function(a){return K.lchToHsluv(e.lchuv(a))},a.hsluv=K.rgbToHsluv;var Q={name:"hpluv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HPLuv","HuSLp"],lchuv:K.hpluvToLch,xyz:function(a){return w.xyz(K.hpluvToLch(a))},hsluv:function(a){return K.lchToHsluv(K.hpluvToLch(a))}};w.hpluv=K.lchToHpluv,e.hpluv=function(a){return K.lchToHpluv(e.lchuv(a))};var Z={name:"cubehelix",channel:["fraction"],min:[0],max:[1]},_=Z.defaults={start:0,rotation:.5,hue:1,gamma:1};Z.rgb=function(a,n){n=n||{},a.length&&(a=a[0]);var t=void 0!==n.start?n.start:_.start,r=void 0!==n.rotation?n.rotation:_.rotation,h=void 0!==n.gamma?n.gamma:_.gamma,u=void 0!==n.hue?n.hue:_.hue,e=2*Math.PI*(t/3+1+r*a),c=u*(a=Math.pow(a,h))*(1-a)/2,i=a+c*(-.14861*Math.cos(e)+1.78277*Math.sin(e)),o=a+c*(-.29227*Math.cos(e)-.90649*Math.sin(e)),s=a+c*(1.97294*Math.cos(e));return[255*(i=Math.max(1,Math.min(i,0))),255*(o=Math.max(1,Math.min(o,0))),255*(s=Math.max(1,Math.min(s,0)))]},a.cubehelix=function(a){};var J={name:"coloroid",alias:["ATV"],channel:["A","T","V"],min:[10,0,0],max:[76,100,100],table:[[10,59,1.724349,.44987,.53641],[11,55.3,1.740844,.46248,.52444],[12,51.7,1.754985,.47451,.51298],[13,48.2,1.767087,.48601,.50325],[14,44.8,1.775953,.49578,.49052],[15,41.5,1.785073,.5079,.43035],[16,38.2,1.791104,.51874,.46934],[20,34.9,1.794831,.5298,.45783],[21,31.5,1.798664,.54137,.44559],[22,28,1.794819,.55367,.43253],[23,24.4,1.78961,.5668,.41811],[24,20.6,1.809483,.58128,.40176],[25,16.6,1.760983,.59766,.383],[26,12.3,1.723443,.61653,.36061],[30,7.7,1.652891,.63896,.33358],[31,2.8,1.502607,.66619,.2993],[32,-2.5,1.0725,.70061,.26753],[33,-8.4,1.136637,.63925,.22631],[34,-19.8,1.232286,.53962,.19721],[35,-31.6,1.31012,.5034,.17495],[40,-43.2,1.37661,.46041,.15603],[41,-54.6,1.438692,.42386,.13846],[42,-65.8,1.501582,.38991,.12083],[43,-76.8,1.570447,.35586,.10328],[44,-86.8,1.645583,.32195,.08496],[45,-95.8,1.732083,.28657,.05155],[46,-108.4,1.915753,.22202,.01771],[50,-117.2,2.14631,.15664,.05227],[51,-124.7,1.649939,.12736,.0902],[52,-131.8,1.273415,.10813,.12506],[53,-138.5,1.080809,.09414,.15741],[54,-145.1,.957076,.03249,.18958],[55,-152,.868976,.07206,.24109],[56,-163.4,.771731,.05787,.30378],[60,-177.2,.697108,.04353,.35696],[61,171.6,.655803,.03291,.41971],[62,152.4,.623958,.0224,.49954],[63,148.4,.596037,.01196,.60321],[64,136.8,.607413,.00425,.73542],[65,125.4,.659923,.01099,.83391],[66,114.2,.859517,.0805,.77474],[70,103.2,1.195683,.20259,.7046],[71,93.2,1.407534,.28807,.6523],[72,84.2,1.532829,.34422,.6193],[73,77.3,1.603792,.37838,.59533],[74,71.6,1.649448,.4029,.57716],[75,66.9,1.68108,.42141,.56222],[76,62.8,1.704979,.43647,.54895]]},$=J.table,aa=[].concat($.slice(-13),$.slice(0,-13)),na="D65",ta=e.whitepoint[2][na][0],ra=e.whitepoint[2][na][1],ha=e.whitepoint[2][na][2],ua=ta/(ta+ra+ha),ea=ra/(ta+ra+ha),ca=(ta+ra+ha)/100;c.coloroid=function(a){for(var n,t=a[0],r=a[1],h=a[2],u=10*Math.sqrt(h),e=180*Math.atan2(r-ua,t-ea)/Math.PI,c=aa.length-1,i=0;i<aa.length&&!(e>aa[i][1]);i++)c=i;var o=(n=Math.abs(aa[i+1][1]-e)>Math.abs(aa[c][1]-e)?aa[i+1]:aa[c])[0],s=n[4],v=n[2],l=n[3];return[o,100*h*(ea*ca-t*ca)/(100*(t*v-l*v)+s*v*100*(ea*ca-t*ca)),u]},J.xyy=function(a){for(var n,t=a[0],r=a[1],h=a[2],u=0;u<$.length;u++)if(t<=$[u][0]){n=$[u];break}var e=n[4],c=n[2],i=n[3],o=h*h/100,s=e*c*100;return[(100*o*ea*ca+100*i*c*r-s*r*ea*ca)/(100*r*c-s*r*ca+100*o*ca),(100*o+100*r*e*c-s*r)/(o*ca*100+100*r*c-r*s*ca),o]},e.coloroid=function(a){return c.coloroid(e.xyy(a))},J.xyz=function(a){return c.xyz(J.xyy(a))};var ia={name:"hcg",min:[0,0,0],max:[360,100,100],channel:["hue","chroma","gray"],alias:["HCG","HSG"],rgb:function(a){var n=a[0]/360,t=a[1]/100,r=a[2]/100;if(0===t)return[255*r,255*r,255*r];var h=n%1*6,u=h%1,e=[0,0,0],c=1-u;switch(Math.floor(h)){case 0:e[0]=1,e[1]=u,e[2]=0;break;case 1:e[0]=c,e[1]=1,e[2]=0;break;case 2:e[0]=0,e[1]=1,e[2]=u;break;case 3:e[0]=0,e[1]=c,e[2]=1;break;case 4:e[0]=u,e[1]=0,e[2]=1;break;default:e[0]=1,e[1]=0,e[2]=c}var i=(1-t)*r;return[255*(t*e[0]+i),255*(t*e[1]+i),255*(t*e[2]+i)]},hsl:function(a){var n=a[1]/100,t=a[2]/100*(1-n)+.5*n,r=0;return t<1&&t>0&&(r=t<.5?n/(2*t):n/(2*(1-t))),[a[0],100*r,100*t]},hsv:function(a){var n,t=a[1]/100,r=t+a[2]/100*(1-t);if(r>0){var h=t/r;n=[a[0],100*h,100*r]}else n=[a[0],0,100*r];return n},hwb:function(a){var n=a[1]/100,t=n+a[2]/100*(1-n);return[a[0],100*(t-n),100*(1-t)]}};a.hcg=function(a){var n,t=a[0]/255,r=a[1]/255,h=a[2]/255,u=Math.max(Math.max(t,r),h),e=Math.min(Math.min(t,r),h),c=u-e;return c>0?(n=u===t?(r-h)/c%6:u===r?2+(h-t)/c:4+(t-r)/c,n/=6,n%=1):n=0,[360*n,100*c,100*(c<1?e/(1-c):0)]},n.hcg=function(a){var n,t,r=a[1]/100,h=a[2]/100;if((t=h<.5?2*r*h:2*r*(1-h))<1){var u=(h-.5*t)/(1-t);n=[a[0],100*t,100*u]}else n=[a[0],100*t,0];return n},t.hcg=function(a){var n,t=a[1]/100,r=a[2]/100,h=t*r;if(h<1){var u=(r-h)/(1-h);n=[a[0],100*h,100*u]}else n=[a[0],100*h,0];return n},h.hcg=function(a){var n=a[1]/100,t=1-a[2]/100,r=t-n,h=0;return r<1&&(h=(t-r)/(1-r)),[a[0],100*r,100*h]};var oa={name:"hcy",min:[0,0,0],max:[360,100,255],channel:["hue","chroma","luminance"],alias:["HCY"],rgb:function(a){var n,t,r,h=(a[0]<0?a[0]%360+360:a[0]%360)*Math.PI/180,u=Math.max(0,Math.min(a[1],100))/100,e=Math.max(0,Math.min(a[2],255))/255,c=Math.PI/3;return h<2*c?(r=e*(1-u),n=e*(1+u*Math.cos(h)/Math.cos(c-h)),t=e*(1+u*(1-Math.cos(h)/Math.cos(c-h)))):h<4*c?(h-=2*c,n=e*(1-u),t=e*(1+u*Math.cos(h)/Math.cos(c-h)),r=e*(1+u*(1-Math.cos(h)/Math.cos(c-h)))):(h-=4*c,t=e*(1-u),r=e*(1+u*Math.cos(h)/Math.cos(c-h)),n=e*(1+u*(1-Math.cos(h)/Math.cos(c-h)))),[255*n,255*t,255*r]}};a.hcy=function(a){var n=a[0]+a[1]+a[2],t=a[0]/n,r=a[1]/n,h=a[2]/n,u=Math.acos(.5*(t-r+(t-h))/Math.sqrt((t-r)*(t-r)+(t-h)*(r-h)));h>r&&(u=2*Math.PI-u);var e=1-3*Math.min(t,r,h),c=n/3;return[180*u/Math.PI,100*e,c]};var sa={name:"tsl",min:[0,0,0],max:[1,1,1],channel:["tint","saturation","lightness"],rgb:function(a){var n=a[0],t=a[1],r=a[2],h=Math.tan(2*Math.PI*(n-1/4));h*=h;var u=Math.sqrt(5*t*t/(9*(1/h+1)))+1/3,e=Math.sqrt(5*t*t/(9*(h+1)))+1/3,c=r/(.185*u+.473*e+.114);return[c*u*255,c*e*255,c*(1-u-e)*255]}};a.tsl=function(a){var n=a[0]/255,t=a[1]/255,r=a[2]/255,h=(n/(n+t+r)||0)-1/3,u=(t/(n+t+r)||0)-1/3;return[u>0?.5*Math.atan(h/u)/Math.PI+.25:u<0?.5*Math.atan(h/u)/Math.PI+.75:0,Math.sqrt(1.8*(h*h+u*u)),.299*n+.587*t+.114*r]},a.yes=function(a){var n=a[0]/255,t=a[1]/255,r=a[2]/255,h=[.253,.684,.063,.5,-.5,0,.25,.25,-.5];return[n*h[0]+t*h[1]+r*h[2],n*h[3]+t*h[4]+r*h[5],n*h[6]+t*h[7]+r*h[8]]},e.osaucs=function(a){var n=a[0],t=a[1],r=a[2],h=n/(n+t+r),u=t/(n+t+r),e=(4.4934*h*h+4.3034*u*u-4.276*h*u-1.3744*h-2.56439*u+1.8103)*t,c=5.9*(Math.pow(e,1/3)-2/3+.042*Math.pow(Math.max(e,30)-30,1/3)),i=(c-14.3993)/Math.sqrt(2),o=c/(5.9*(Math.pow(e,1/3)-2/3)),s=.779*n+.4194*t-.1648*r,v=-.4493*n+1.3265*t+.0927*r,l=-.1149*n+.3394*t+.717*r;return[i,o*(1.7*(s=Math.pow(s,1/3)||0)+8*(v=Math.pow(v,1/3)||0)-9.7*(l=Math.pow(l,1/3)||0)),o*(-13.7*s+17.7*v-4*l)]};const va=.299,la=.587,ma=.114;var Ma={name:"hsp",min:[0,0,0],max:[360,100,255],channel:["hue","saturation","perceived_brightness"],alias:["HSP"],rgb:function(a){var n,t,r,h,u=a[0]/360,e=a[1]/100,c=a[2],i=1-e;return i>0?u<1/6?(h=1+(u=6*(u-0))*(1/i-1),t=(r=c/Math.sqrt(va/i/i+la*h*h+ma))+u*((n=r/i)-r)):u<2/6?(h=1+(u=6*(2/6-u))*(1/i-1),n=(r=c/Math.sqrt(la/i/i+va*h*h+ma))+u*((t=r/i)-r)):u<.5?(h=1+(u=6*(u-2/6))*(1/i-1),r=(n=c/Math.sqrt(la/i/i+ma*h*h+va))+u*((t=n/i)-n)):u<4/6?(h=1+(u=6*(4/6-u))*(1/i-1),t=(n=c/Math.sqrt(ma/i/i+la*h*h+va))+u*((r=n/i)-n)):u<5/6?(h=1+(u=6*(u-4/6))*(1/i-1),n=(t=c/Math.sqrt(ma/i/i+va*h*h+la))+u*((r=t/i)-t)):(h=1+(u=6*(1-u))*(1/i-1),r=(t=c/Math.sqrt(va/i/i+ma*h*h+la))+u*((n=t/i)-t)):u<1/6?(u=6*(u-0),t=(n=Math.sqrt(c*c/(va+la*u*u)))*u,r=0):u<2/6?(u=6*(2/6-u),n=(t=Math.sqrt(c*c/(la+va*u*u)))*u,r=0):u<.5?(u=6*(u-2/6),r=(t=Math.sqrt(c*c/(la+ma*u*u)))*u,n=0):u<4/6?(u=6*(4/6-u),t=(r=Math.sqrt(c*c/(ma+la*u*u)))*u,n=0):u<5/6?(u=6*(u-4/6),n=(r=Math.sqrt(c*c/(ma+va*u*u)))*u,t=0):(u=6*(1-u),r=(n=Math.sqrt(c*c/(va+ma*u*u)))*u,t=0),[Math.round(n),Math.round(t),Math.round(r)]}};a.hsp=function(a){var n,t,r,h=parseInt(a[0],10),u=parseInt(a[1],10),e=parseInt(a[2],10);return r=Math.sqrt(h*h*va+u*u*la+e*e*ma),h===u&&h===e?(n=0,t=0):(h>=u&&h>=e&&(e>=u?(n=1-1/6*(e-u)/(h-u),t=1-u/h):(n=0+1/6*(u-e)/(h-e),t=1-e/h)),u>=h&&u>=e&&(h>=e?(n=2/6-1/6*(h-e)/(u-e),t=1-e/u):(n=2/6+1/6*(e-h)/(u-h),t=1-h/u)),e>=h&&e>=u&&(u>=h?(n=4/6-1/6*(u-h)/(e-h),t=1-h/e):(n=4/6+1/6*(h-u)/(e-u),t=1-u/e))),[Math.round(360*n),100*t,Math.round(r)]};const fa={};function ba(a){const n=a.name;for(var t in fa){a[t]||(a[t]=xa(a,t));const r=fa[t];r[n]||(r[n]=xa(r,n))}fa[n]=a}function xa(a,n){return a.xyz&&fa.xyz[n]?t=>fa.xyz[n](a.xyz(t)):a.rgb&&fa.rgb[n]?t=>fa.rgb[n](a.rgb(t)):void 0}[a,e,n,t,r,h,u,{name:"cmy",min:[0,0,0],max:[100,100,100],channel:["cyan","magenta","yellow"],alias:["CMY"],rgb:function(a){return[255*(1-a[0]/100),255*(1-a[1]/100),255*(1-a[2]/100)]}},c,i,o,s,{name:"ycgco",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","Cg","Co"],alias:["YCgCo"],rgb:function(a){var n=a[0],t=a[1],r=a[2],h=n-t;return[255*(h+r),255*(n+t),255*(h-r)]}},v,l,m,M,f,b,{name:"jpeg",min:[0,0,0],max:[255,255,255],channel:["Y","Cb","Cr"],alias:["JPEG"],rgb:function(a){var n=a[0],t=a[1],r=a[2];return[n+1.402*(r-128),n-.34414*(t-128)-.71414*(r-128),n+1.772*(t-128)]}},x,{name:"labh",min:[0,-128,-128],max:[100,128,128],channel:["lightness","a","b"],alias:["LABh","hunter-lab","hlab"],xyz:function(a){var n=a[0],t=n/10,r=t*t;return[(a[1]/17.5*n/10+r)/1.02,r,-(a[2]/7*n/10-r)/.847]}},p,y,g,w,O,Q,Z,J,ia,oa,sa,{name:"yes",min:[0,0,0],max:[1,1,1],channel:["luminance","e-factor","s-factor"],rgb:function(a){var n=a[0],t=a[1],r=a[2],h=[1,1.431,.126,1,-.569,.126,1,.431,-1.874];return[255*(n*h[0]+t*h[1]+r*h[2]),255*(n*h[3]+t*h[4]+r*h[5]),255*(n*h[6]+t*h[7]+r*h[8])]}},{name:"osaucs",alias:["OSA-UCS"],channel:["L","j","g"],min:[-10,-6,-10],max:[8,12,6],xyz:function(a){throw"Unimplemented"}},Ma].map(ba);export{fa as default,ba as register};