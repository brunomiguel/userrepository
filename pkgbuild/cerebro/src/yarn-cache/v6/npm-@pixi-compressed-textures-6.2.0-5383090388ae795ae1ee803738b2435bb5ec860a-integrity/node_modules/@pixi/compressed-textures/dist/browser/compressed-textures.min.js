/*!
 * @pixi/compressed-textures - v6.2.0
 * Compiled Mon, 01 Nov 2021 16:52:10 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
this.PIXI=this.PIXI||{};var _pixi_compressed_textures=function(_,R,T,e,A){"use strict";var E,O;(O=_.INTERNAL_FORMATS||(_.INTERNAL_FORMATS={}))[O.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",O[O.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",O[O.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",O[O.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",O[O.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",O[O.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",O[O.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",O[O.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",O[O.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",O[O.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",O[O.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",O[O.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",O[O.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",O[O.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",O[O.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",O[O.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",O[O.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",O[O.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",O[O.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",O[O.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",O[O.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",O[O.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",O[O.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",O[O.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",O[O.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",O[O.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL";var t=((E={})[_.INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,E[_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,E[_.INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,E[_.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,E[_.INTERNAL_FORMATS.COMPRESSED_R11_EAC]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_RG11_EAC]=1,E[_.INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC]=1,E[_.INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC]=1,E[_.INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,E[_.INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,E[_.INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,E[_.INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL]=.5,E[_.INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,E[_.INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,E),S=function(_,R){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,R){_.__proto__=R}||function(_,R){for(var T in R)R.hasOwnProperty(T)&&(_[T]=R[T])})(_,R)};function G(_,R){function T(){this.constructor=_}S(_,R),_.prototype=null===R?Object.create(R):(T.prototype=R.prototype,new T)}function M(_,R){var T,e,A,E,O={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return E={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function t(E){return function(t){return function(E){if(T)throw new TypeError("Generator is already executing.");for(;O;)try{if(T=1,e&&(A=2&E[0]?e.return:E[0]?e.throw||((A=e.return)&&A.call(e),0):e.next)&&!(A=A.call(e,E[1])).done)return A;switch(e=0,A&&(E=[2&E[0],A.value]),E[0]){case 0:case 1:A=E;break;case 4:return O.label++,{value:E[1],done:!1};case 5:O.label++,e=E[1],E=[0];continue;case 7:E=O.ops.pop(),O.trys.pop();continue;default:if(!(A=(A=O.trys).length>0&&A[A.length-1])&&(6===E[0]||2===E[0])){O=0;continue}if(3===E[0]&&(!A||E[1]>A[0]&&E[1]<A[3])){O.label=E[1];break}if(6===E[0]&&O.label<A[1]){O.label=A[1],A=E;break}if(A&&O.label<A[2]){O.label=A[2],O.ops.push(E);break}A[2]&&O.ops.pop(),O.trys.pop();continue}E=R.call(_,O)}catch(_){E=[6,_],e=0}finally{T=A=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([E,t])}}}var r,D,I=function(_){function T(T,e){void 0===e&&(e={width:1,height:1,autoLoad:!0});var A,E,O=this;return"string"==typeof T?(A=T,E=new Uint8Array):(A=null,E=T),(O=_.call(this,E,e)||this).origin=A,O.buffer=E?new R.ViewableBuffer(E):null,O.origin&&!1!==e.autoLoad&&O.load(),E&&E.length&&(O.loaded=!0,O.onBlobLoaded(O.buffer.rawBinaryData)),O}return G(T,_),T.prototype.onBlobLoaded=function(_){},T.prototype.load=function(){return _=this,T=void 0,e=Promise,A=function(){var _;return M(this,function(T){switch(T.label){case 0:return[4,fetch(this.origin)];case 1:return[4,T.sent().blob()];case 2:return[4,T.sent().arrayBuffer()];case 3:return _=T.sent(),this.data=new Uint32Array(_),this.buffer=new R.ViewableBuffer(_),this.loaded=!0,this.onBlobLoaded(_),this.update(),[2,this]}})},new(e||(e=Promise))(function(R,E){function O(_){try{S(A.next(_))}catch(_){E(_)}}function t(_){try{S(A.throw(_))}catch(_){E(_)}}function S(_){_.done?R(_.value):new e(function(R){R(_.value)}).then(O,t)}S((A=A.apply(_,T||[])).next())});var _,T,e,A},T}(R.BufferResource),X=function(_){function R(T,e){var A=_.call(this,T,e)||this;return A.format=e.format,A.levels=e.levels||1,A._width=e.width,A._height=e.height,A._extension=R._formatToExtension(A.format),(e.levelBuffers||A.buffer)&&(A._levelBuffers=e.levelBuffers||R._createLevelBuffers(T instanceof Uint8Array?T:A.buffer.uint8View,A.format,A.levels,4,4,A.width,A.height)),A}return G(R,_),R.prototype.upload=function(_,R,T){var e=_.gl;if(!_.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var A=0,E=this.levels;A<E;A++){var O=this._levelBuffers[A],t=O.levelID,S=O.levelWidth,G=O.levelHeight,M=O.levelBuffer;e.compressedTexImage2D(e.TEXTURE_2D,t,this.format,S,G,0,M)}return!0},R.prototype.onBlobLoaded=function(){this._levelBuffers=R._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},R._formatToExtension=function(_){if(_>=33776&&_<=33779)return"s3tc";if(_>=37488&&_<=37497)return"etc";if(_>=35840&&_<=35843)return"pvrtc";if(_>=36196)return"etc1";if(_>=35986&&_<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},R._createLevelBuffers=function(_,R,T,e,A,E,O){for(var S=new Array(T),G=_.byteOffset,M=E,r=O,D=M+e-1&~(e-1),I=r+A-1&~(A-1),X=D*I*t[R],n=0;n<T;n++)S[n]={levelID:n,levelWidth:T>1?M:D,levelHeight:T>1?r:I,levelBuffer:new Uint8Array(_.buffer,G,X)},G+=X,X=(D=(M=M>>1||1)+e-1&~(e-1))*(I=(r=r>>1||1)+A-1&~(A-1))*t[R];return S},R}(I),n=function(){function _(){}return _.use=function(R,A){var E=R.data;if(R.type===T.LoaderResource.TYPE.JSON&&E&&E.cacheID&&E.textures){for(var O=E.textures,t=void 0,S=void 0,G=0,M=O.length;G<M;G++){var r=O[G],D=r.src,I=r.format;if(I||(S=D),_.textureFormats[I]){t=D;break}}if(!(t=t||S))return void A(new Error("Cannot load compressed-textures in "+R.url+", make sure you provide a fallback"));if(t===R.url)return void A(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var X={crossOrigin:R.crossOrigin,metadata:R.metadata.imageMetadata,parentResource:R},n=e.url.resolve(R.url.replace(this.baseUrl,""),t),F=E.cacheID;this.add(F,n,X,function(_){if(_.error)A(_.error);else{var T=_.texture,e=void 0===T?null:T,E=_.textures,O=void 0===E?{}:E;Object.assign(R,{texture:e,textures:O}),A()}})}else A()},_.add=function(){var R=document.createElement("canvas").getContext("webgl");if(R){var T={s3tc:R.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:R.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:R.getExtension("WEBGL_compressed_texture_etc"),etc1:R.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:R.getExtension("WEBGL_compressed_texture_pvrtc")||R.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:R.getExtension("WEBGL_compressed_texture_atc"),astc:R.getExtension("WEBGL_compressed_texture_astc")};for(var e in _.textureExtensions=T,_.textureFormats={},T){var A=T[e];A&&Object.assign(_.textureFormats,Object.getPrototypeOf(A))}}},_}();function F(_,T,e){var E={textures:{},texture:null};return T?(T.map(function(_){return new R.Texture(new R.BaseTexture(_,Object.assign({mipmap:A.MIPMAP_MODES.OFF,alphaMode:A.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA},e)))}).forEach(function(T,e){var A=T.baseTexture,O=_+"-"+(e+1);R.BaseTexture.addToCache(A,O),R.Texture.addToCache(T,O),0===e&&(R.BaseTexture.addToCache(A,_),R.Texture.addToCache(T,_),E.texture=T),E.textures[O]=T}),E):E}T.LoaderResource.setExtensionXhrType("dds",T.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var o,a,B=3,N=4,P=7,i=19,C=2,s=0,u=1,L=2,f=3;!function(_){_[_.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",_[_.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",_[_.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",_[_.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",_[_.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",_[_.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",_[_.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",_[_.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",_[_.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",_[_.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",_[_.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",_[_.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",_[_.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",_[_.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",_[_.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",_[_.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",_[_.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",_[_.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",_[_.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",_[_.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",_[_.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",_[_.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",_[_.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",_[_.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",_[_.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",_[_.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",_[_.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",_[_.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",_[_.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",_[_.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",_[_.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",_[_.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",_[_.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",_[_.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",_[_.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",_[_.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",_[_.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",_[_.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",_[_.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",_[_.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",_[_.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",_[_.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",_[_.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",_[_.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",_[_.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",_[_.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",_[_.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",_[_.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",_[_.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",_[_.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",_[_.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",_[_.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",_[_.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",_[_.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",_[_.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",_[_.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",_[_.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",_[_.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",_[_.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",_[_.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",_[_.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",_[_.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",_[_.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",_[_.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",_[_.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",_[_.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",_[_.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",_[_.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",_[_.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",_[_.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",_[_.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",_[_.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",_[_.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",_[_.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",_[_.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",_[_.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",_[_.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",_[_.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",_[_.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",_[_.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",_[_.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",_[_.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",_[_.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",_[_.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",_[_.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",_[_.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",_[_.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",_[_.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",_[_.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",_[_.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",_[_.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",_[_.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",_[_.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",_[_.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",_[_.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",_[_.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",_[_.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",_[_.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",_[_.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",_[_.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",_[_.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",_[_.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",_[_.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",_[_.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",_[_.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",_[_.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",_[_.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",_[_.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",_[_.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",_[_.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",_[_.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",_[_.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",_[_.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",_[_.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",_[_.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",_[_.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",_[_.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",_[_.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",_[_.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",_[_.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",_[_.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",_[_.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(o||(o={})),function(_){_[_.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",_[_.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",_[_.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(a||(a={}));var U,c,l,d=((r={})[827611204]=_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,r[861165636]=_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,r[894720068]=_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,r),h=((D={})[o.DXGI_FORMAT_BC1_TYPELESS]=_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,D[o.DXGI_FORMAT_BC1_UNORM]=_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,D[o.DXGI_FORMAT_BC2_TYPELESS]=_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,D[o.DXGI_FORMAT_BC2_UNORM]=_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,D[o.DXGI_FORMAT_BC3_TYPELESS]=_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,D[o.DXGI_FORMAT_BC3_UNORM]=_.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,D[o.DXGI_FORMAT_BC1_UNORM_SRGB]=_.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,D[o.DXGI_FORMAT_BC2_UNORM_SRGB]=_.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,D[o.DXGI_FORMAT_BC3_UNORM_SRGB]=_.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,D),p=function(){function _(){}return _.use=function(R,T){if("dds"===R.extension&&R.data)try{Object.assign(R,F(R.name||R.url,_.parse(R.data),R.metadata))}catch(_){return void T(_)}T()},_.parse=function(_){var R=new Uint32Array(_);if(542327876!==R[0])throw new Error("Invalid DDS file magic word");var T=new Uint32Array(_,0,124/Uint32Array.BYTES_PER_ELEMENT),e=T[B],A=T[N],E=T[P],O=new Uint32Array(_,i*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),S=O[1];if(4&S){var G=O[C];if(808540228!==G){var M=d[G],r=new Uint8Array(_,128);return[new X(r,{format:M,width:A,height:e,levels:E})]}var D=new Uint32Array(R.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),I=D[s],n=D[u],F=D[L],o=D[f],U=h[I];if(void 0===U)throw new Error("DDSLoader cannot parse texture data with DXGI format "+I);if(4===F)throw new Error("DDSLoader does not support cubemap textures");if(n===a.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var c=new Array;if(1===o)c.push(new Uint8Array(_,148));else{for(var l=t[U],p=0,v=A,Y=e,w=0;w<E;w++){p+=Math.max(1,v+3&-4)*Math.max(1,Y+3&-4)*l,v>>>=1,Y>>>=1}var x=148;for(w=0;w<o;w++)c.push(new Uint8Array(_,x,p)),x+=p}return c.map(function(_){return new X(_,{format:U,width:A,height:e,levels:E})})}if(64&S)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&S)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&S)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&S)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},_}();T.LoaderResource.setExtensionXhrType("ktx",T.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var v=[171,75,84,88,32,49,49,187,13,10,26,10],Y=12,w=16,x=24,H=28,m=36,g=40,y=44,b=48,V=52,W=56,k=60,j=((U={})[A.TYPES.UNSIGNED_BYTE]=1,U[A.TYPES.UNSIGNED_SHORT]=2,U[A.TYPES.FLOAT]=4,U[A.TYPES.HALF_FLOAT]=8,U),K=((c={})[A.FORMATS.RGBA]=4,c[A.FORMATS.RGB]=3,c[A.FORMATS.LUMINANCE]=1,c[A.FORMATS.LUMINANCE_ALPHA]=2,c[A.FORMATS.ALPHA]=1,c),Q=((l={})[A.TYPES.UNSIGNED_SHORT_4_4_4_4]=2,l[A.TYPES.UNSIGNED_SHORT_5_5_5_1]=2,l[A.TYPES.UNSIGNED_SHORT_5_6_5]=2,l),J=function(){function _(){}return _.use=function(R,T){if("ktx"===R.extension&&R.data)try{var e=R.name||R.url;Object.assign(R,F(e,_.parse(e,R.data),R.metadata))}catch(_){return void T(_)}T()},_.parse=function(R,T){var e=new DataView(T);if(!_.validate(R,e))return null;var A=67305985===e.getUint32(Y,!0),E=e.getUint32(w,A),O=e.getUint32(x,A),S=e.getUint32(H,A),G=e.getUint32(m,A),M=e.getUint32(g,A)||1,r=e.getUint32(y,A)||1,D=e.getUint32(b,A)||1,I=e.getUint32(V,A),n=e.getUint32(W,A),F=e.getUint32(k,A);if(0===M||1!==r)throw new Error("Only 2D textures are supported");if(1!==I)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==D)throw new Error("WebGL does not support array textures");var o,a=G+3&-4,B=M+3&-4,N=new Array(D),P=G*M;if(0===E&&(P=a*B),void 0===(o=0!==E?j[E]?j[E]*K[O]:Q[E]:t[S]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var i=P*o,C=G,s=M,u=a,L=B,f=64+F,U=0;U<n;U++){for(var c=e.getUint32(f,A),l=f+4,d=0;d<D;d++){var h=N[d];h||(h=N[d]=new Array(n)),h[U]={levelID:U,levelWidth:n>1?C:u,levelHeight:n>1?s:L,levelBuffer:new Uint8Array(T,l,i)},l+=i}f=(f+=c+4)%4!=0?f+4-f%4:f,i=(u=(C=C>>1||1)+4-1&-4)*(L=(s=s>>1||1)+4-1&-4)*o}if(0!==E)throw new Error("TODO: Uncompressed");return N.map(function(_){return new X(null,{format:S,width:G,height:M,levels:n,levelBuffers:_})})},_.validate=function(_,R){for(var T=0;T<v.length;T++)if(R.getUint8(T)!==v[T])return!1;return!0},_}();return _.BlobResource=I,_.CompressedTextureLoader=n,_.CompressedTextureResource=X,_.DDSLoader=p,_.FORMATS_TO_COMPONENTS=K,_.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=t,_.KTXLoader=J,_.TYPES_TO_BYTES_PER_COMPONENT=j,_.TYPES_TO_BYTES_PER_PIXEL=Q,_}({},PIXI,PIXI,PIXI.utils,PIXI);Object.assign(this.PIXI,_pixi_compressed_textures);
//# sourceMappingURL=compressed-textures.min.js.map
