"use strict";
var _core = require("@electron-forge/core");
var _fsExtra = _interopRequireDefault(require("fs-extra"));
var _commander = _interopRequireDefault(require("commander"));
var _path = _interopRequireDefault(require("path"));
require("./util/terminate");
var _workingDir = _interopRequireDefault(require("./util/working-dir"));
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
(async ()=>{
    let dir = process.cwd();
    _commander.default.version((await _fsExtra.default.readJson(_path.default.resolve(__dirname, '../package.json'))).version).arguments('[name]').option('-t, --template [name]', 'Name of the Forge template to use').option('-c, --copy-ci-files', 'Whether to copy the templated CI files (defaults to false)', false).option('-f, --force', 'Whether to overwrite an existing directory (defaults to false)', false).action((name)=>{
        dir = (0, _workingDir).default(dir, name, false);
    }).parse(process.argv);
    const initOpts = {
        dir,
        interactive: true,
        copyCIFiles: !!_commander.default.copyCiFiles,
        force: !!_commander.default.force
    };
    if (_commander.default.template) initOpts.template = _commander.default.template;
    await _core.api.init(initOpts);
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGVjdHJvbi1mb3JnZS1pbml0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFwaSwgSW5pdE9wdGlvbnMgfSBmcm9tICdAZWxlY3Ryb24tZm9yZ2UvY29yZSc7XG5cbmltcG9ydCBmcyBmcm9tICdmcy1leHRyYSc7XG5pbXBvcnQgcHJvZ3JhbSBmcm9tICdjb21tYW5kZXInO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmltcG9ydCAnLi91dGlsL3Rlcm1pbmF0ZSc7XG5pbXBvcnQgd29ya2luZ0RpciBmcm9tICcuL3V0aWwvd29ya2luZy1kaXInO1xuXG4oYXN5bmMgKCkgPT4ge1xuICBsZXQgZGlyID0gcHJvY2Vzcy5jd2QoKTtcbiAgcHJvZ3JhbVxuICAgIC52ZXJzaW9uKChhd2FpdCBmcy5yZWFkSnNvbihwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi4vcGFja2FnZS5qc29uJykpKS52ZXJzaW9uKVxuICAgIC5hcmd1bWVudHMoJ1tuYW1lXScpXG4gICAgLm9wdGlvbignLXQsIC0tdGVtcGxhdGUgW25hbWVdJywgJ05hbWUgb2YgdGhlIEZvcmdlIHRlbXBsYXRlIHRvIHVzZScpXG4gICAgLm9wdGlvbignLWMsIC0tY29weS1jaS1maWxlcycsICdXaGV0aGVyIHRvIGNvcHkgdGhlIHRlbXBsYXRlZCBDSSBmaWxlcyAoZGVmYXVsdHMgdG8gZmFsc2UpJywgZmFsc2UpXG4gICAgLm9wdGlvbignLWYsIC0tZm9yY2UnLCAnV2hldGhlciB0byBvdmVyd3JpdGUgYW4gZXhpc3RpbmcgZGlyZWN0b3J5IChkZWZhdWx0cyB0byBmYWxzZSknLCBmYWxzZSlcbiAgICAuYWN0aW9uKChuYW1lKSA9PiB7XG4gICAgICBkaXIgPSB3b3JraW5nRGlyKGRpciwgbmFtZSwgZmFsc2UpO1xuICAgIH0pXG4gICAgLnBhcnNlKHByb2Nlc3MuYXJndik7XG5cbiAgY29uc3QgaW5pdE9wdHM6IEluaXRPcHRpb25zID0ge1xuICAgIGRpcixcbiAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICBjb3B5Q0lGaWxlczogISFwcm9ncmFtLmNvcHlDaUZpbGVzLFxuICAgIGZvcmNlOiAhIXByb2dyYW0uZm9yY2UsXG4gIH07XG4gIGlmIChwcm9ncmFtLnRlbXBsYXRlKSBpbml0T3B0cy50ZW1wbGF0ZSA9IHByb2dyYW0udGVtcGxhdGU7XG5cbiAgYXdhaXQgYXBpLmluaXQoaW5pdE9wdHMpO1xufSkoKTtcbiJdLCJuYW1lcyI6WyJkaXIiLCJwcm9jZXNzIiwiY3dkIiwicHJvZ3JhbSIsInZlcnNpb24iLCJmcyIsInJlYWRKc29uIiwicGF0aCIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJhcmd1bWVudHMiLCJvcHRpb24iLCJhY3Rpb24iLCJuYW1lIiwid29ya2luZ0RpciIsInBhcnNlIiwiYXJndiIsImluaXRPcHRzIiwiaW50ZXJhY3RpdmUiLCJjb3B5Q0lGaWxlcyIsImNvcHlDaUZpbGVzIiwiZm9yY2UiLCJ0ZW1wbGF0ZSIsImFwaSIsImluaXQiXSwibWFwcGluZ3MiOiI7QUFBaUMsR0FBc0IsQ0FBdEIsS0FBc0I7QUFFeEMsR0FBVSxDQUFWLFFBQVU7QUFDTCxHQUFXLENBQVgsVUFBVztBQUNkLEdBQU0sQ0FBTixLQUFNOztBQUdBLEdBQW9CLENBQXBCLFdBQW9COzs7Ozs7V0FFOUIsQ0FBQztJQUNaLEdBQUcsQ0FBQ0EsR0FBRyxHQUFHQyxPQUFPLENBQUNDLEdBQUc7SUFDckJDLFVBQU8sU0FDSkMsT0FBTyxFQUFFLEtBQUssQ0FBQ0MsUUFBRSxTQUFDQyxRQUFRLENBQUNDLEtBQUksU0FBQ0MsT0FBTyxDQUFDQyxTQUFTLEVBQUUsQ0FBaUIsb0JBQUlMLE9BQU8sRUFDL0VNLFNBQVMsQ0FBQyxDQUFRLFNBQ2xCQyxNQUFNLENBQUMsQ0FBdUIsd0JBQUUsQ0FBbUMsb0NBQ25FQSxNQUFNLENBQUMsQ0FBcUIsc0JBQUUsQ0FBNEQsNkRBQUUsS0FBSyxFQUNqR0EsTUFBTSxDQUFDLENBQWEsY0FBRSxDQUFnRSxpRUFBRSxLQUFLLEVBQzdGQyxNQUFNLEVBQUVDLElBQUksR0FBSyxDQUFDO1FBQ2pCYixHQUFHLE9BQUdjLFdBQVUsVUFBQ2QsR0FBRyxFQUFFYSxJQUFJLEVBQUUsS0FBSztJQUNuQyxDQUFDLEVBQ0FFLEtBQUssQ0FBQ2QsT0FBTyxDQUFDZSxJQUFJO0lBRXJCLEtBQUssQ0FBQ0MsUUFBUSxHQUFnQixDQUFDO1FBQzdCakIsR0FBRztRQUNIa0IsV0FBVyxFQUFFLElBQUk7UUFDakJDLFdBQVcsSUFBSWhCLFVBQU8sU0FBQ2lCLFdBQVc7UUFDbENDLEtBQUssSUFBSWxCLFVBQU8sU0FBQ2tCLEtBQUs7SUFDeEIsQ0FBQztJQUNELEVBQUUsRUFBRWxCLFVBQU8sU0FBQ21CLFFBQVEsRUFBRUwsUUFBUSxDQUFDSyxRQUFRLEdBQUduQixVQUFPLFNBQUNtQixRQUFRO0lBRTFELEtBQUssQ0FBQ0MsS0FBRyxLQUFDQyxJQUFJLENBQUNQLFFBQVE7QUFDekIsQ0FBQyJ9